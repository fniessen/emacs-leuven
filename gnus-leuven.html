<!-- <xml version="1.0"> -->
<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Strict//EN"
    "http://www.w3.org/TR/xhtml1/DTD/xhtml1-strict.dtd">

<html xmlns="http://www.w3.org/1999/xhtml" lang="en" xml:lang="en">
<head>
  <meta name="generator" content=
  "HTML Tidy for Cygwin (vers 1st September 2004), see www.w3.org" />

  <title>Gnus Leuven</title><!-- 2014-02-20 Thu 20:03 -->
  <meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
  <meta name="generator" content="Org-mode" />
  <meta name="author" content="Fabrice Niessen" />
</head>

<body>
  <div id="content">
    <h1 class="title">Gnus Leuven</h1>

    <div id="table-of-contents">
      <h2>Table of Contents</h2>

      <div id="text-table-of-contents">
        <ul>
          <li><a href="#sec-1">Overview</a></li>

          <li>
            <a href="#sec-2">Starting Up Gnus</a>

            <ul>
              <li><a href="#sec-2-1">Finding the News</a></li>

              <li><a href="#sec-2-2">New Groups</a></li>

              <li><a href="#sec-2-3">Startup Files</a></li>

              <li><a href="#sec-2-4">Auto Save</a></li>

              <li><a href="#sec-2-5">Active File</a></li>
            </ul>
          </li>

          <li>
            <a href="#sec-3">Group Buffer</a>

            <ul>
              <li><a href="#sec-3-1">Group Buffer Format</a></li>

              <li><a href="#sec-3-2">Selecting a Group</a></li>

              <li><a href="#sec-3-3">Listing Groups</a></li>

              <li><a href="#sec-3-4">Exiting Gnus</a></li>

              <li><a href="#sec-3-5">Group Topics</a></li>

              <li><a href="#sec-3-6">Misc Group Stuff</a></li>
            </ul>
          </li>

          <li>
            <a href="#sec-4">Summary buffer</a>

            <ul>
              <li><a href="#sec-4-1">Summary Buffer Format</a></li>

              <li><a href="#sec-4-2">Paging the Article</a></li>

              <li><a href="#sec-4-3">Reply, Followup and Post</a></li>

              <li><a href="#sec-4-4">Threading</a></li>

              <li><a href="#sec-4-5">Sorting the Summary Buffer</a></li>

              <li><a href="#sec-4-6">Article Caching</a></li>

              <li><a href="#sec-4-7">Article Treatment</a></li>

              <li><a href="#sec-4-8">MIME Commands</a></li>

              <li><a href="#sec-4-9">Charsets</a></li>

              <li>
                <a href="#sec-4-10">Various Summary Stuff</a>

                <ul>
                  <li><a href="#sec-4-10-1">Gnus Stripes</a></li>
                </ul>
              </li>
            </ul>
          </li>

          <li>
            <a href="#sec-5">Article Buffer</a>

            <ul>
              <li><a href="#sec-5-1">Hiding headers</a></li>
            </ul>
          </li>

          <li>
            <a href="#sec-6">Emacs MIME</a>

            <ul>
              <li><a href="#sec-6-1">Decoding and Viewing</a></li>

              <li><a href="#sec-6-2">Non-MIME</a></li>

              <li><a href="#sec-6-3">Display Customization</a></li>

              <li><a href="#sec-6-4">Composing</a></li>

              <li><a href="#sec-6-5">Basic Functions</a></li>
            </ul>
          </li>

          <li><a href="#sec-7">Back to Article Buffer</a></li>

          <li>
            <a href="#sec-8">Composing Messages</a>

            <ul>
              <li><a href="#sec-8-1">Mail</a></li>

              <li><a href="#sec-8-2">Posting Server</a></li>

              <li><a href="#sec-8-3">Archived Messages</a></li>

              <li>
                <a href="#sec-8-4">Posting Styles</a>

                <ul>
                  <li><a href="#sec-8-4-1">Multiple servers</a></li>

                  <li><a href="#sec-8-4-2">Headers</a></li>
                </ul>
              </li>
            </ul>
          </li>

          <li>
            <a href="#sec-9">Message</a>

            <ul>
              <li><a href="#sec-9-1">Interface</a></li>

              <li><a href="#sec-9-2">Commands</a></li>

              <li><a href="#sec-9-3">Variables</a></li>
            </ul>
          </li>

          <li>
            <a href="#sec-10">Select Methods</a>

            <ul>
              <li><a href="#sec-10-1">Getting Mail</a></li>

              <li><a href="#sec-10-2">Browsing the Web</a></li>

              <li><a href="#sec-10-3">IMAP</a></li>

              <li><a href="#sec-10-4">Gnus Unplugged</a></li>
            </ul>
          </li>

          <li><a href="#sec-11">Scoring</a></li>

          <li><a href="#sec-12">Searching</a></li>

          <li>
            <a href="#sec-13">Various</a>

            <ul>
              <li><a href="#sec-13-1">Interactive</a></li>

              <li><a href="#sec-13-2">Formatting Variables</a></li>

              <li><a href="#sec-13-3">Window Layout</a></li>

              <li><a href="#sec-13-4">Interaction with other modes</a></li>

              <li><a href="#sec-13-5">Various Various</a></li>
            </ul>
          </li>

          <li>
            <a href="#sec-14">Appendices</a>

            <ul>
              <li><a href="#sec-14-1">History</a></li>

              <li><a href="#sec-14-2">Frequently Asked Questions</a></li>

              <li><a href="#sec-14-3">File Local Variables</a></li>
            </ul>
          </li>
        </ul>
      </div>
    </div>

    <div id="outline-container-sec-1" class="outline-2">
      <h2 id="sec-1">Overview</h2>

      <div class="outline-text-2" id="text-1">
        <p>See <a href=
        "http://www.gnu.org/software/emacs/manual/gnus.html">http://www.gnu.org/software/emacs/manual/gnus.html</a></p>

        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;; </span><span style=
"color: #8D8D84; font-style: italic;">gnus-leuven.el --- my Gnus config file</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Copyright (C) 2004-2014 Fabrice Niessen</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Author: Fabrice Niessen &lt;(concat "fniessen" at-sign "pirilampo.org")&gt;</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Keywords: gnus, dotfile, config</span>

<span style="color: #8D8D84;">;;</span>
<span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">__ _ _ __  _   _ ___</span>
<span style="color: #8D8D84;">;;   </span><span style=
"color: #8D8D84; font-style: italic;">/ _` | '_ \| | | / __|</span>
<span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">| (_| | | | | |_| \__ \</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(_)__, |_| |_|\__,_|___/</span>
<span style="color: #8D8D84;">;;   </span><span style=
"color: #8D8D84; font-style: italic;">|___/</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">This file is NOT part of GNU Emacs.</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">This program is free software: you can redistribute it and/or</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">modify it under the terms of the GNU General Public License as</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">published by the Free Software Foundation, either version 3 of</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the License, or (at your option) any later version.</span>
<span style="color: #8D8D84;">;;</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">This program is distributed in the hope that it will be useful,</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">but WITHOUT ANY WARRANTY; without even the implied warranty of</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE. See the</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">GNU General Public License for more details.</span>
<span style="color: #8D8D84;">;;</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">You should have received a copy of the GNU General Public License</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">along with this program. If not, see <a href="http://www.gnu.org/licenses/">&lt;http://www.gnu.org/licenses/&gt;</a>.</span>


<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* Commentary:</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** Help</span>
<span style="color: #8D8D84;">;;</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">For help on The Gnus Newsreader, see:</span>
<span style="color: #8D8D84;">;;     </span><span style=
"color: #8D8D84; font-style: italic;">(info "(gnus)")  &lt;== C-x C-e here!</span>
<span style="color: #8D8D84;">;;</span>
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">BUG</span>
<span style="color: #8D8D84;">;;</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Updating info for nnimap does not occurr for group INBOX (well for</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">subgroups) - i.e., mail GCc'ed to INBOX is lost...</span>


<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">http://www.emacswiki.org/emacs/GnusTutorial</span>


<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Disconnected from IMAP? In the `</span><span style="color: #D0372D; font-style: italic;">*Server*</span><span style="color: #8D8D84; font-style: italic;">' buffer, hit 'C' to close the</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">server and then 'O' to reopen it.</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">"You should byte-compile Gnus" because the function `</span><span style="color: #D0372D; font-style: italic;">gnus</span><span style="color: #8D8D84; font-style: italic;">' isn't</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">byte-compiled. Check `M-x locate-library RET gnus RET' if it picks up the</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">.el or .elc file.</span>


<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* Code:</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">This file is only provided as an example. Customize it to your own taste!</span>
</pre>
        </div>

        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
(message <span style="color: #036A07;">"* Load Gnus Leuven"</span>)

(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-starting-gnus</span> t) <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">required</span>
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-group-buffer</span> nil)
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-summary-buffer</span> nil)
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-article-buffer</span> nil)
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-composing-messages</span> t)
                                        <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">required</span>
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-message</span> t)       <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">required</span>
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-select-methods</span> nil)
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-scoring</span> nil)
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-various</span> nil)
(<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">leuven-section-appendices</span> nil)

(setq leuven-section-group-buffer t)
(setq leuven-section-summary-buffer t)
(setq leuven-section-article-buffer t)
(setq leuven-section-select-methods t)
(setq leuven-section-scoring t)
(setq leuven-section-various t)
(setq leuven-section-appendices t)

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* Loading</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">list of packages that `</span><span style="color: #D0372D; font-style: italic;">try-require</span><span style="color: #8D8D84; font-style: italic;">' can't find</span>
(setq leuven--missing-packages nil)
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-2" class="outline-2">
      <h2 id="sec-2">Starting Up Gnus</h2>

      <div class="outline-text-2" id="text-2">
        <p>If you’re running a recent Emacs, look into the EPA library to
        encrypt your <code>.authinfo</code> file.</p>

        <p>See <a href=
        "http://www.emacswiki.org/emacs/GnusEncryptedAuthInfo">http://www.emacswiki.org/emacs/GnusEncryptedAuthInfo</a>.</p>

        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 1 (info "(gnus)Starting Up") Gnus</span>

(<span style="color: #0000FF;">when</span> leuven-section-starting-gnus
      (message <span style="color: #036A07;">"1 Starting Gnus..."</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">support for `</span><span style=
"color: #D0372D; font-style: italic;">.authinfo</span><span style=
"color: #8D8D84; font-style: italic;">' file</span>
      (<span style="color: #0000FF;">when</span> (try-require 'auth-source)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">for any host and any protocol, use just one .netrc-like file that</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">holds authinfo passwords</span>
        (setq auth-sources
              (<span style=
"color: #0000FF;">if</span> (file-exists-p <span style=
"color: #036A07;">"~/.authinfo.gpg"</span>)
                  '(<span style="color: #036A07;">"~/.authinfo.gpg"</span>)
                '(<span style="color: #036A07;">"~/.authinfo"</span>)))

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">log debug messages</span>
        (setq auth-source-debug t))
</pre>
        </div>
      </div>

      <div id="outline-container-sec-2-1" class="outline-3">
        <h3 id="sec-2-1">Finding the News</h3>

        <div class="outline-text-3" id="text-2-1">
          <p>Download and <b>install</b> of <a href=
          "http://www.gnu.org/software/gnutls/">GnuTLS library</a> may be
          required.</p>

          <p>Go to <a href=
          "http://schwarzvogel.de/ssl_tls_testing.shtml">Testing SSL and TLS
          services</a> to test the <b>opening of TLS connections</b>.</p>

          <p>Setting the following right is the only thing really required! The
          rest is customization.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 1.1 (info "(gnus)Finding the News")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">using Gnus for news (see `</span><span style="color: #D0372D; font-style: italic;">gnus-secondary-select-methods</span><span style="color: #8D8D84; font-style: italic;">' as well)</span>
      (setq gnus-select-method
            '(nntp <span style="color: #036A07;">"eternal-september.org"</span>
                   (nntp-address <span style=
"color: #036A07;">"news.eternal-september.org"</span>)
                   (nnir-search-engine nntp))

            <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; empty, read-only back-end (all real servers are secondary or</span>
            <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; foreign)</span>
            <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">'(nnnil)</span>
            )

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">required when posting to an authenticated news server</span>
      (add-hook 'nntp-server-opened-hook 'nntp-send-authinfo)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">configure incoming mail</span>
      (setq gnus-secondary-select-methods
            '((nnimap <span style="color: #036A07;">"mail"</span>
                      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">account label allows for multiple accounts on the</span>
                      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">same server (see `</span><span style=
"color: #D0372D; font-style: italic;">.authinfo</span><span style=
"color: #8D8D84; font-style: italic;">' for logins)</span>

                      (nnimap-address <span style=
"color: #036A07;">"mail"</span>)
                      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(nnimap-server-port 993)</span>
                      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(nnimap-stream ssl)</span>
                      )

              (nntp <span style="color: #036A07;">"gmane"</span>
                    (nntp-address <span style=
"color: #036A07;">"news.gmane.org"</span>)
                    (nntp-port-number 119))))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">allow "hostname NOT matched" in the server certificate</span>
      (setq starttls-extra-arguments '(<span style=
"color: #036A07;">"--insecure"</span>))
      <span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">! not used in an Emacs 24 with built-in gnutls support</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-2-2" class="outline-3">
        <h3 id="sec-2-2">New Groups</h3>

        <div class="outline-text-3" id="text-2-2">
          <p>Finding new newsgroups is done:</p>

          <ul class="org-ul">
            <li>at startup (if <code>gnus-check-new-newsgroups</code> is
            non-nil) or</li>

            <li>by using the function
            <code>gnus-find-new-newsgroup</code>.</li>
          </ul>

          <p>You can always subscribe to the new groups just by pressing
          <code>U</code> in the group buffer.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 1.4 (info "(gnus)New Groups")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Gnus will not check for new newsgroups at startup</span>
      (setq gnus-check-new-newsgroups nil)
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">save you some time at startup and when you do the `g' command</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">don't save the list of killed groups</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">WARNING</span><span style="color: #8D8D84; font-style: italic;"> As Gnus has no record of which groups are new and which are old,</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the automatic new newsgroups subscription methods becomes meaningless</span>
      (setq gnus-save-killed-list nil)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">make all new groups that come from mail back-ends subscribed</span>
      (setq gnus-auto-subscribed-groups
            <span style="color: #036A07;">"^nnml</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">^nnimap</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">^nnslashdot"</span>)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-2-3" class="outline-3">
        <h3 id="sec-2-3">Startup Files</h3>

        <div class="outline-text-3" id="text-2-3">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 1.6 (info "(gnus)Startup Files")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">don't save a `</span><span style=
"color: #D0372D; font-style: italic;">.newsrc</span><span style=
"color: #8D8D84; font-style: italic;">' file (for using other newsreaders) on exit</span>
      (setq gnus-save-newsrc-file nil) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">speed-up</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">ignore the `</span><span style=
"color: #D0372D; font-style: italic;">.newsrc</span><span style=
"color: #8D8D84; font-style: italic;">' file</span>
      (setq gnus-read-newsrc-file nil)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">my `</span><span style=
"color: #D0372D; font-style: italic;">.newsrc</span><span style=
"color: #8D8D84; font-style: italic;">' file (and the derived .el/.eld files)</span>
      (setq gnus-startup-file (concat gnus-directory <span style=
"color: #036A07;">".newsrc"</span>))
</pre>
          </div>

          <p>To stop the repetitive (and growing) “nntp read” messages, ensure
          you subscribe to at least one group for every NNTP server. You can
          even unsubscribe directly afterward…</p>
        </div>
      </div>

      <div id="outline-container-sec-2-4" class="outline-3">
        <h3 id="sec-2-4">Auto Save</h3>

        <div class="outline-text-3" id="text-2-4">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 1.7 (info "(gnus)Auto Save")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">enable showing of [Gmail]/* groups</span>
      (setq gnus-ignored-newsgroups <span style="color: #036A07;">""</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">unconditionally read the dribble file</span>
      (setq gnus-always-read-dribble-file t)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-2-5" class="outline-3">
        <h3 id="sec-2-5">Active File</h3>

        <div class="outline-text-3" id="text-2-5">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 1.8 (info "(gnus)The Active File")</span>

      <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">Gnus will only know about the groups in my `</span><span style="color: #D0372D; font-style: italic;">.newsrc</span><span style="color: #8D8D84; font-style: italic;">' file</span>
      (setq gnus-read-active-file nil) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">speed-up</span>

      (message <span style="color: #036A07;">"1 Starting Gnus... Done"</span>))
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-3" class="outline-2">
      <h2 id="sec-3">Group Buffer</h2>

      <div class="outline-text-2" id="text-3">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 2 (info "(gnus)The Group Buffer")</span>

(<span style="color: #0000FF;">when</span> leuven-section-group-buffer
      (message <span style="color: #036A07;">"2 Group Buffer..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-3-1" class="outline-3">
        <h3 id="sec-3-1">Group Buffer Format</h3>

        <div class="outline-text-3" id="text-3-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2.1 (info "(gnus)Group Buffer Format")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">create some faces</span>
      (<span style="color: #0000FF;">defface</span> <span style=
"color: #BA36A5;">leuven-gnus-ticked</span> '((t (<span style=
"color: #006FE0;">:weight</span> bold <span style=
"color: #006FE0;">:foreground</span> <span style=
"color: #036A07;">"#CF5D60"</span>)))
        <span style=
"color: #008000;">"Face for count of ticked articles."</span>)
      (<span style="color: #0000FF;">defface</span> <span style=
"color: #BA36A5;">leuven-gnus-unseen</span> '((t (<span style=
"color: #006FE0;">:weight</span> bold <span style=
"color: #006FE0;">:foreground</span> <span style=
"color: #036A07;">"blue"</span>)))
        <span style=
"color: #008000;">"Face for marker of new mail, and count of unseen articles."</span>)
      (<span style="color: #0000FF;">defface</span> <span style=
"color: #BA36A5;">leuven-gnus-unread</span> '((t (<span style=
"color: #006FE0;">:weight</span> bold <span style=
"color: #006FE0;">:foreground</span> <span style=
"color: #036A07;">"black"</span>)))
        <span style=
"color: #008000;">"Face for count of unread articles."</span>)
      (<span style="color: #0000FF;">defface</span> <span style=
"color: #BA36A5;">leuven-gnus-linum</span> '((t (<span style=
"color: #006FE0;">:foreground</span> <span style=
"color: #036A07;">"#AFB7BA"</span>)))
        <span style=
"color: #008000;">"Face for markers in summary buffer."</span>)
      (<span style="color: #0000FF;">defface</span> <span style=
"color: #BA36A5;">leuven-gnus-score</span> '((t (<span style=
"color: #006FE0;">:weight</span> bold <span style=
"color: #006FE0;">:foreground</span> <span style=
"color: #036A07;">"#2B7E2A"</span> <span style=
"color: #006FE0;">:background</span> <span style=
"color: #036A07;">"#CCFFCC"</span>)))
        <span style=
"color: #008000;">"Face for scoring marker in summary buffer."</span>)
      (<span style="color: #0000FF;">defface</span> <span style=
"color: #BA36A5;">leuven-gnus-diredp-file-suffix</span> '((t (<span style=
"color: #006FE0;">:foreground</span> <span style=
"color: #036A07;">"#2EAE2C"</span>)))
        <span style=
"color: #008000;">"Face for size of article in summary buffer."</span>)
      (<span style="color: #0000FF;">defface</span> <span style=
"color: #BA36A5;">leuven-gnus-org-date</span> '((t (<span style=
"color: #006FE0;">:foreground</span> <span style=
"color: #036A07;">"purple"</span>)))
        <span style=
"color: #008000;">"Face for date in summary buffer."</span>)

      (setq gnus-face-1 'leuven-gnus-ticked)
      (setq gnus-face-3 'leuven-gnus-unseen)
      (setq gnus-face-4 'leuven-gnus-unread)
      (setq gnus-face-5 'leuven-gnus-linum)
      (setq gnus-face-6 'leuven-gnus-score)
      (setq gnus-face-7 'leuven-gnus-diredp-file-suffix)
      (setq gnus-face-8 'leuven-gnus-org-date)

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">gnus-user-format-function-y</span> (headers)
        <span style=
"color: #008000;">"Return string for count of unread articles."</span>
        (<span style=
"color: #0000FF;">if</span> (&gt; (string-to-number gnus-tmp-number-of-unread) 0)
            (concat gnus-tmp-number-of-unread <span style=
"color: #036A07;">" Unread"</span>)
          <span style="color: #036A07;">""</span>))

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">gnus-user-format-function-U</span> (headers)
        <span style=
"color: #008000;">"Return string for count of unseen articles."</span>
        (<span style=
"color: #0000FF;">if</span> (&gt; (gnus-number-of-unseen-articles-in-group gnus-tmp-group) 0)
            <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">found in gnus-group.el</span>
            (concat (int-to-string
                     (gnus-number-of-unseen-articles-in-group
                      gnus-tmp-group)) <span style=
"color: #036A07;">" Unseen"</span>)
          <span style="color: #036A07;">""</span>))

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">gnus-user-format-function-T</span> (headers)
        <span style=
"color: #008000;">"Return string for count of ticked articles."</span>
        (<span style=
"color: #0000FF;">if</span> (&gt; (gnus-range-length (cdr (assq 'tick gnus-tmp-marked))) 0)
            (concat (int-to-string
                     (gnus-range-length (cdr (assq 'tick gnus-tmp-marked))))
                    <span style="color: #036A07;">" Ticked"</span>)
          <span style="color: #036A07;">""</span>))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">format of the group buffer</span>
      (setq gnus-group-line-format (concat <span style=
"color: #036A07;">"%1{%M%}"</span>
                                           <span style=
"color: #036A07;">"%3{%m%}"</span>
                                           <span style=
"color: #036A07;">"  "</span>
                                           <span style=
"color: #036A07;">"%(%-42,42g%) "</span>
                                           <span style=
"color: #036A07;">"%4{%10uy%} "</span>
                                           <span style=
"color: #036A07;">"%3{%10uU%} "</span>
                                           <span style=
"color: #036A07;">"%1{%10uT%} "</span>
                                           <span style=
"color: #036A07;">"%7{%6t Total%}"</span>
                                           <span style=
"color: #036A07;">"\n"</span>))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-3-2" class="outline-3">
        <h3 id="sec-3-2">Selecting a Group</h3>

        <div class="outline-text-3" id="text-3-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2.3 (info "(gnus)Selecting a Group")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">no groups are considered big</span>
      (setq gnus-large-newsgroup nil)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-3-3" class="outline-3">
        <h3 id="sec-3-3">Listing Groups</h3>

        <div class="outline-text-3" id="text-3-3">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2.11 (info "(gnus)Listing Groups")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">groups that should always be listed in the group buffer (even when</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">there no unread articles in the groups)</span>
      (setq gnus-permanently-visible-groups nil) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">= none</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-3-4" class="outline-3">
        <h3 id="sec-3-4">Exiting Gnus</h3>

        <div class="outline-text-3" id="text-3-4">
          <p>Cleanup all Gnus buffers on exit.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2.15 (info "(gnus)Exiting Gnus")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">quit Gnus properly, if it is running ...</span>
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">exit-gnus</span> ()
        <span style="color: #008000;">"Save and exit Gnus."</span>
        (<span style=
"color: #0000FF;">if</span> (and (fboundp 'gnus-group-exit)
                 (gnus-alive-p))
            (<span style=
"color: #0000FF;">with-current-buffer</span> (get-buffer <span style=
"color: #036A07;">"*Group*"</span>)
              (<span style="color: #0000FF;">let</span> (gnus-interactive-exit)
                (gnus-group-exit)))))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">... before exiting Emacs (not leaving auto-save files around)</span>
      (add-hook 'kill-emacs-hook 'exit-gnus)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-3-5" class="outline-3">
        <h3 id="sec-3-5">Group Topics</h3>

        <div class="outline-text-3" id="text-3-5">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2.16 (info "(gnus)Group Topics")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">permanently enable the topic mode</span>
      (add-hook 'gnus-group-mode-hook 'gnus-topic-mode)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">remove the binding of `C-c C-x', used by Org clocking commands</span>
      (add-hook 'gnus-topic-mode-hook
                (<span style="color: #0000FF;">lambda</span> ()
                  (define-key gnus-topic-mode-map
                    (kbd <span style="color: #036A07;">"C-c C-x"</span>) nil)))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-3-6" class="outline-3">
        <h3 id="sec-3-6">Misc Group Stuff</h3>

        <div class="outline-text-3" id="text-3-6">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2.17 (info "(gnus)Misc Group Stuff")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">jump to the first group with unread articles, after getting new news</span>
      (add-hook 'gnus-after-getting-new-news-hook
                'gnus-group-first-unread-group)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">keep track of when I last read a group</span>
      (add-hook 'gnus-select-group-hook 'gnus-group-set-timestamp)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">turn off the column number in the group buffer, and</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">remove the binding of `C-c C-x', used by Org clocking commands</span>
      (add-hook 'gnus-group-mode-hook
                (<span style="color: #0000FF;">lambda</span> ()
                  (<span style="color: #0000FF;">progn</span>
                    (set (make-local-variable 'column-number-mode) nil)
                    (define-key gnus-group-mode-map
                      (kbd <span style=
"color: #036A07;">"C-c C-x"</span>) nil))))

      (message <span style="color: #036A07;">"2 Group Buffer... Done"</span>))
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-4" class="outline-2">
      <h2 id="sec-4">Summary buffer</h2>

      <div class="outline-text-2" id="text-4">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 3 (info "(gnus)The Summary Buffer")</span>

(<span style="color: #0000FF;">when</span> leuven-section-summary-buffer
      (message <span style="color: #036A07;">"3 Summary Buffer..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-4-1" class="outline-3">
        <h3 id="sec-4-1">Summary Buffer Format</h3>

        <div class="outline-text-3" id="text-4-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.1 (info "(gnus)Summary Buffer Format")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">auxiliary summary mode commands for Gnus</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">http://theotp1.physik.uni-ulm.de/~ste/comp/emacs/gnus/rs-gnus-summary.el</span>
      (<span style=
"color: #0000FF;">when</span> (try-require 'rs-gnus-summary-<span style=
"color: #CC0000; background-color: #FFFF88;">XXX</span>)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">summary line indicators</span>
        (setq rs-gnus-summary-line-content-type-alist
              '((<span style="color: #036A07;">".*"</span> <span style=
"color: #036A07;">" "</span>)
                (<span style=
"color: #036A07;">"^multipart/mixed"</span> <span style=
"color: #036A07;">"@"</span>)))

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">display `@' for message with attachment in summary line</span>
        (<span style="color: #0000FF;">defalias</span> '<span style=
"color: #006699;">gnus-user-format-function-attachment</span>
          'rs-gnus-summary-line-content-type)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">alias for the score function:</span>
        (<span style="color: #0000FF;">defalias</span> '<span style=
"color: #006699;">gnus-user-format-function-score</span>
          'rs-gnus-summary-line-score))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">date format depending on age of article</span>
      (setq gnus-user-date-format-alist <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`</span><span style=
"color: #D0372D; font-style: italic;">user-date</span><span style=
"color: #8D8D84; font-style: italic;">'</span>
            '(((gnus-seconds-today) . <span style=
"color: #036A07;">"               %H:%M"</span>)
              <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(604800 . "           %a %H:%M")</span>
              ((gnus-seconds-month) . <span style=
"color: #036A07;">"        %d %a %H:%M"</span>)
              ((gnus-seconds-year) . <span style=
"color: #036A07;">"     %m-%d %a %H:%M"</span>)
              (t . <span style="color: #036A07;">"%Y-%m-%d %a %H:%M"</span>)))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">format specification of the lines in the summary buffer</span>
      (setq gnus-summary-line-format
            <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">for the record, the default string is</span>
            <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`%U%R%z%I%(%[%4L: %-20,20n%]%) %s\n'</span>
            (concat
             <span style="color: #036A07;">"%5{%U%}"</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">status</span>
             <span style="color: #036A07;">"%8{%R%}"</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">reply status</span>
             <span style="color: #036A07;">"%6{%z%} "</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">score</span>
             <span style=
"color: #036A07;">"%8{%20&amp;user-date; %} "</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">date</span>
             <span style="color: #036A07;">"%7{ %4k %}"</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">size</span>
             <span style="color: #036A07;">"%*"</span> <span style=
"color: #036A07;">"%-15,15f "</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">cursor before name of the poster</span>
             <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(if (boundp 'rs-gnus-summary-line-content-type-alist)</span>
             <span style="color: #8D8D84;">;;     </span><span style=
"color: #8D8D84; font-style: italic;">"%u&amp;attachment; ")</span>
             <span style="color: #036A07;">"%u&amp;r; "</span>
             <span style="color: #036A07;">"%5{ %}"</span>
             <span style="color: #036A07;">"%B"</span>
             <span style="color: #036A07;">"%I%s"</span>
             <span style="color: #036A07;">"\n"</span>))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">string indicating that the current article has the same subject as</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the previous</span>
      (setq gnus-summary-same-subject <span style="color: #036A07;">""</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">strings indicating that the current article has the same subject as</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the previous</span>
      (<span style=
"color: #0000FF;">if</span> (and (char-displayable-p ?\u25A3)
                                        <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">white square containg black small square</span>
               (char-displayable-p ?\u2570))
          <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">See http://www.santagata.us/characters/CharacterEntities.html</span>

          (<span style="color: #0000FF;">progn</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">using ASCII tree layout with Unicode chars</span>
            (setq gnus-sum-thread-tree-root <span style=
"color: #036A07;">"■ "</span>)
            (setq gnus-sum-thread-tree-false-root <span style=
"color: #036A07;">"▣ "</span>)
            (setq gnus-sum-thread-tree-single-indent <span style=
"color: #036A07;">"□ "</span>)
            (setq gnus-sum-thread-tree-vertical <span style=
"color: #036A07;">"│   "</span>)
            (setq gnus-sum-thread-tree-indent <span style=
"color: #036A07;">"    "</span>)
            (setq gnus-sum-thread-tree-leaf-with-other <span style=
"color: #036A07;">"├── "</span>)
            (setq gnus-sum-thread-tree-single-leaf <span style=
"color: #036A07;">"└── "</span>))

        (<span style="color: #0000FF;">progn</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">using ASCII tree layout</span>
          (setq gnus-sum-thread-tree-root <span style=
"color: #036A07;">"* "</span>)
          (setq gnus-sum-thread-tree-false-root <span style=
"color: #036A07;">"x "</span>)
          (setq gnus-sum-thread-tree-single-indent <span style=
"color: #036A07;">"o "</span>)
          (setq gnus-sum-thread-tree-vertical <span style=
"color: #036A07;">"| "</span>)
          (setq gnus-sum-thread-tree-indent <span style=
"color: #036A07;">"  "</span>)
          (setq gnus-sum-thread-tree-leaf-with-other <span style=
"color: #036A07;">"+-&gt; "</span>)
          (setq gnus-sum-thread-tree-single-leaf <span style=
"color: #036A07;">"\\-&gt; "</span>)))

      (eval-after-load <span style="color: #036A07;">"message"</span>
        '(<span style="color: #0000FF;">progn</span>
           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">regexp matching alternative email addresses</span>
           (setq message-alternative-emails
                 (concat
                  (regexp-quote <span style=
"color: #036A07;">"john@doe.com"</span>) <span style=
"color: #036A07;">"</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                  (regexp-quote <span style=
"color: #036A07;">"jane@doe.com"</span>)))

           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`</span><span style=
"color: #D0372D; font-style: italic;">From</span><span style=
"color: #8D8D84; font-style: italic;">' headers that may be suppressed in favor of `</span><span style="color: #D0372D; font-style: italic;">To</span><span style="color: #8D8D84; font-style: italic;">' headers</span>
           (setq gnus-ignored-from-addresses
                 (concat
                  (regexp-quote user-mail-address) <span style=
"color: #036A07;">"</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span> message-alternative-emails))))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">extra headers to parse (to check when matching recipients)</span>
      (<span style="color: #0000FF;">when</span> (boundp 'nnmail-extra-headers)
        (add-to-list 'nnmail-extra-headers 'Cc))

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-gnus-count-recipients</span> (header)
        <span style=
"color: #008000;">"Given a Gnus message header, returns priority mark.</span>
<span style=
"color: #008000;">      If I am the only recipient, return \"!\".</span>
<span style=
"color: #008000;">      If I am one of the recipients listed in To:, return \"T\".</span>
<span style=
"color: #008000;">      If I am one of a few recipients, return \"C\".</span>
<span style=
"color: #008000;">      If I am one of many recipients, return \"*\".</span>
<span style="color: #008000;">      Else, return \" \"."</span>
        (<span style=
"color: #0000FF;">let*</span> ((to (or (cdr (assoc 'To (mail-header-extra header))) <span style="color: #036A07;">""</span>))
               (cc (or (cdr (assoc 'Cc (mail-header-extra header))) <span style="color: #036A07;">""</span>)))
          (<span style="color: #0000FF;">cond</span>
           ((and (string-match gnus-ignored-from-addresses to)
                 (fboundp 'bbdb-split))
            (<span style=
"color: #0000FF;">let</span> ((len (length (bbdb-split to <span style=
"color: #036A07;">","</span>))))
              (<span style="color: #0000FF;">cond</span>
               ((= len 1) <span style="color: #036A07;">"»"</span>)
               (t <span style="color: #036A07;">"T"</span>))))
           ((and (string-match gnus-ignored-from-addresses (concat to <span style="color: #036A07;">", "</span> cc))
                 (fboundp 'bbdb-split))
            (<span style=
"color: #0000FF;">if</span> (&lt; (length (bbdb-split (concat to <span style=
"color: #036A07;">", "</span> cc) <span style="color: #036A07;">","</span>)) 5)
                <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">number of recipients to consider as large</span>
                <span style="color: #036A07;">"C"</span>
              <span style="color: #036A07;">"*"</span>))
           (t <span style="color: #036A07;">" "</span>))))

      (<span style="color: #0000FF;">defalias</span> '<span style=
"color: #006699;">gnus-user-format-function-r</span> 'leuven-gnus-count-recipients)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">format specification for the summary mode line</span>
      (setq gnus-summary-mode-line-format <span style=
"color: #036A07;">"%V: %%b"</span>)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-2" class="outline-3">
        <h3 id="sec-4-2">Paging the Article</h3>

        <div class="outline-text-3" id="text-4-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.4 (info "(gnus)Paging the Article")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">added some key bindings to the gnus summary mode</span>
      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"&lt;M-up&gt;"</span>) '(<span style="color: #0000FF;">lambda</span> () (scroll-other-window -1)))

      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"&lt;M-down&gt;"</span>) '(<span style=
"color: #0000FF;">lambda</span> () (scroll-other-window 1)))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-3" class="outline-3">
        <h3 id="sec-4-3">Reply, Followup and Post</h3>

        <div class="outline-text-3" id="text-4-3">
          <p>Messages posted via Usenet do not show up in the Emacs bug
          tracker. Avoid to forget about this programmatically!</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.5 (info "(gnus)Reply Followup and Post")</span>

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-gnus-summary-followup-with-original</span> ()
        <span style=
"color: #008000;">"Force sending messages to `</span><span style=
"color: #D0372D;">gnu.emacs.bug</span><span style=
"color: #008000;">' per email."</span>
        (interactive)
        (<span style="color: #0000FF;">if</span> (string-match (rx <span style=
"color: #036A07;">"gnu.emacs.bug"</span>) gnus-newsgroup-name)
                                        <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">answer per email</span>
            (call-interactively 'gnus-summary-wide-reply-with-original)
                                        <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">post via news</span>
          (call-interactively 'gnus-summary-followup-with-original)))

      (<span style="color: #0000FF;">with-eval-after-load</span> <span style=
"color: #036A07;">"gnus-sum"</span>
        (define-key gnus-summary-mode-map
          (kbd <span style=
"color: #036A07;">"F"</span>) 'leuven-gnus-summary-followup-with-original))
</pre>
          </div>

          <p>Source: Michael Heerdegen.</p>
        </div>
      </div>

      <div id="outline-container-sec-4-4" class="outline-3">
        <h3 id="sec-4-4">Threading</h3>

        <div class="outline-text-3" id="text-4-4">
          <p>Threading is the representation of discussions “as they happen”.
          Use <code>T T</code> to toggle threading.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.9 (info "(gnus)Threading")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">gather threads by comparing the Subject header of the articles</span>
      (setq gnus-summary-thread-gathering-function
            'gnus-gather-threads-by-subject)
            <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">'gnus-gather-threads-by-references)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">don't grab old headers to build threads</span>
      (setq gnus-fetch-old-headers nil)
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">nil to speed up (otherwise, it can seriously impact performance)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">fill in all the gaps to tie loose threads together</span>
      (setq gnus-build-sparse-threads nil) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">was 'some</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">added some key bindings to the gnus summary mode</span>
      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"&lt;C-up&gt;"</span>) 'gnus-summary-prev-thread)
      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"&lt;C-down&gt;"</span>) 'gnus-summary-next-thread)
</pre>
          </div>

          <p>Show/hide threads with <code>&gt;</code> / <code>&lt;</code>.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
(define-key gnus-summary-mode-map
  (kbd <span style="color: #036A07;">"&gt;"</span>) 'gnus-summary-show-thread)
(define-key gnus-summary-mode-map
  (kbd <span style="color: #036A07;">"&lt;"</span>) 'gnus-summary-hide-thread)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-5" class="outline-3">
        <h3 id="sec-4-5">Sorting the Summary Buffer</h3>

        <div class="outline-text-3" id="text-4-5">
          <p><b>Primary</b> sort key should be the <b>last</b> function in the
          list.</p>

          <p>You should always include <code>gnus-thread-sort-by-number</code>
          in the list, probably as first (least important) element.</p>

          <p>WARNING – Sorting by date is often much slower than sorting by
          number, and the sorting order is very similar.</p>

          <p>The threads with the highest article scores in total are on top in
          my summary buffers. For threads with equal scores, I sort by the most
          recent article in a thread (older before younger, thus the not). If
          that still doesn’t distinguish 2 threads, it’s sorted by article
          number (that should always be included as last element to guarantee a
          total ordering).</p>

          <p>By the way: in mail groups (except for mailing list groups) I
          disable scoring, so there the sorting by recency of youngest message
          in thread is the decision maker. I like that in older-before-younger
          order, because then I read older replies to an article before younger
          replies.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.10 (info "(gnus)Sorting the Summary Buffer")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">sort threads in descending article order</span>
      (setq gnus-thread-sort-functions
            '(gnus-thread-sort-by-number
              (not gnus-thread-sort-by-most-recent-date)
              <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">gnus-thread-sort-by-total-score</span>
              ))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-6" class="outline-3">
        <h3 id="sec-4-6">Article Caching</h3>

        <div class="outline-text-3" id="text-4-6">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.12 (info "(gnus)Article Caching")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">use the cache</span>
      (setq gnus-use-cache t)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; local cache</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq gnus-cache-directory (concat gnus-directory "cache/"))</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">entering of articles from the cache</span>
      (setq gnus-cache-enter-articles '(ticked dormant unread read))
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">simple setup for your convenience, if you are using `</span><span style="color: #D0372D; font-style: italic;">nnimap</span><span style="color: #8D8D84; font-style: italic;">' from</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">home, over a dialup connection</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">removing of articles from the cache</span>
      (setq gnus-cache-remove-articles nil)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">cache your nnimap groups</span>
      (setq gnus-cacheable-groups <span style=
"color: #036A07;">"^nnimap"</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">avoid caching your nnml and nnfolder groups</span>
      (setq gnus-uncacheable-groups <span style=
"color: #036A07;">"^nnml</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">^nnfolder"</span>)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-7" class="outline-3">
        <h3 id="sec-4-7">Article Treatment</h3>

        <div class="outline-text-3" id="text-4-7">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.18 (info "(gnus)Article Treatment")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">change a `\205' figure to "..."</span>
      (add-hook 'gnus-part-display-hook 'article-treat-dumbquotes)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">full shampoo of messages you read</span>
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-gnus-wash-this-article</span> ()
        <span style="color: #008000;">"Wash an article."</span>
        (interactive)
        (gnus-article-outlook-deuglify-article)
        (gnus-article-fill-cited-article nil '79)
        (gnus-article-capitalize-sentences)
        (message <span style="color: #036A07;">"Washed this article"</span>))

      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"C-c w"</span>) 'leuven-gnus-wash-this-article)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">what is to be considered a signature</span>
      (setq gnus-signature-separator
            '(<span style="color: #036A07;">"^-- $"</span>         <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">the standard</span>
              <span style="color: #036A07;">"^-- *$"</span>        <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">a common mangling</span>
              <span style="color: #036A07;">"^________*$"</span>)) <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">a long line of underscores is also popular</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">limit (in lines, in floating point) to what is considered a signature</span>
      (setq gnus-signature-limit 20.0)

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-prefix-line</span> ()
        <span style=
"color: #008000;">"Prefix the current line with `&gt;'."</span>
        (interactive)
        (beginning-of-line)
        (<span style="color: #0000FF;">while</span>
            (<span style="color: #0000FF;">progn</span>
              <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">repeat...</span>
              (<span style="color: #0000FF;">if</span> (looking-at <span style=
"color: #036A07;">"[&gt;\n]"</span>)
                  (insert <span style="color: #036A07;">"&gt;"</span>)
                (insert <span style="color: #036A07;">"&gt; "</span>))
              (forward-line 1)
              (beginning-of-line)
              (not
               <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">...until blank line found</span>
               (looking-at <span style="color: #036A07;">" *$"</span>)))))

      (global-set-key (kbd <span style=
"color: #036A07;">"&lt;S-f5&gt;"</span>) 'leuven-prefix-line)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">banners to remove</span>
      (setq gnus-article-address-banner-alist
            '((<span style="color: #036A07;">"@yahoo\\.com"</span> .
               <span style=
"color: #036A07;">"^__________________+\nDo you Yahoo!\\?\n.*\n.*\n"</span>)
              (<span style="color: #036A07;">"@hotmail\\.com</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">@msn.com"</span> .
               <span style=
"color: #036A07;">"^_________________________________________________________________\n.*MSN .*\n.*\n"</span>)))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">FIXME</span><span style="color: #8D8D84; font-style: italic;"> This is under test!</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">L'affichage des messages</span>
      (setq gnus-article-display-hook
            '(gnus-article-hide-headers-if-wanted
              gnus-article-date-lapsed
              gnus-article-hide-pgp
              gnus-article-treat-overstrike
              gnus-article-de-quoted-unreadable
              gnus-article-strip-leading-blank-lines
              gnus-article-remove-trailing-blank-lines
              gnus-article-strip-multiple-blank-lines
              gnus-article-highlight
              gnus-article-highlight-signature
              gnus-article-emphasize
              gnus-article-fill-cited-article))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-8" class="outline-3">
        <h3 id="sec-4-8">MIME Commands</h3>

        <div class="outline-text-3" id="text-4-8">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.19 (info "(gnus)MIME Commands")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">rewrite file names of MIME parts (delete control characters, delete</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">shell gotchas, handle evil white spaces)</span>
      (setq mm-file-name-rewrite-functions
            '(mm-file-name-delete-control
              mm-file-name-delete-gotchas
              mm-file-name-trim-whitespace
              mm-file-name-collapse-whitespace
              mm-file-name-replace-whitespace))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-9" class="outline-3">
        <h3 id="sec-4-9">Charsets</h3>

        <div class="outline-text-3" id="text-4-9">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.20 (info "(gnus)Charsets")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">permitted unencoded charsets for posting</span>
      (setq gnus-group-posting-charset-alist
            '((message-this-is-news nil (iso-8859-15))))

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-show-article-as-charset</span> ()
        (interactive)
        (message <span style=
"color: #036A07;">"Display in: latin-[1], latin-[9]/15, [u]tf-8, [c]p1252"</span>)
        (<span style="color: #0000FF;">let</span> ((answer (read-char)))
          (<span style="color: #0000FF;">cond</span>
           ((eq answer ?1)
            (gnus-summary-show-article-from-menu-as-charset-iso-8859-1))
           ((eq answer ?9)
            (gnus-summary-show-article-from-menu-as-charset-iso-8859-9))
           ((eq answer ?c)
            (gnus-summary-show-article-from-menu-as-charset-cp1252))
           ((eq answer ?u)
            (gnus-summary-show-article-from-menu-as-charset-utf-8))))
        (gnus-summary-rethread-current))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-4-10" class="outline-3">
        <h3 id="sec-4-10">Various Summary Stuff</h3>

        <div class="outline-text-3" id="text-4-10">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3.27 (info "(gnus)Various Summary Stuff")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">highlight current line in summary buffer</span>
      (GNUEmacs
       (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-setup-highlight-line</span> ()
         (hl-line-mode 1))

       (add-hook 'gnus-summary-mode-hook 'leuven-setup-highlight-line))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">search forward for an article containing a given regexp</span>
      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"s"</span>) 'gnus-summary-search-article-forward)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">repeat the last search through the articles in the summary buffer</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(without requiring a confirmation of the search string each time)</span>
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">gnus-summary-search-article-forward-next</span> ()
        <span style="color: #008000;">"Repeat the last forward search."</span>
        (interactive)
        (gnus-summary-search-article-forward gnus-last-search-regexp nil))
      <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">TODO</span><span style="color: #8D8D84; font-style: italic;"> `</span><span style="color: #D0372D; font-style: italic;">g-s-s-a-f-next</span><span style="color: #8D8D84; font-style: italic;">' should be the only function to be called by the</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">user, whether or not the search is made for the first time or a</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">repetition of it</span>

      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"M-s"</span>) 'gnus-summary-search-article-forward-next)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">turn off the column number in the group buffer</span>
      (add-hook 'gnus-summary-mode-hook
                (<span style="color: #0000FF;">lambda</span> ()
                  (set (make-local-variable 'column-number-mode) nil)))
</pre>
          </div>
        </div>

        <div id="outline-container-sec-4-10-1" class="outline-4">
          <h4 id="sec-4-10-1"><a href=
          "http://www.emacswiki.org/emacs/GnusStripes">Gnus Stripes</a></h4>

          <div class="outline-text-4" id="text-4-10-1">
            <p>The following does work, but hides the read background for read
            postings, as the stripe background is superimposed on my “read”
            background.</p>

            <div class="org-src-container">
              <pre class="src src-emacs-lisp">
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">;; the color of the stripes is obtained by dimming the frame background color</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">(defvar stripe-intensity 12</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">"*intensity of the shade. Used to compute the color of the stripes.</span>
     <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">0 means no shading of the background color, nil means gray80")</span>
     <span style="color: #8D8D84;">;;</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">;; a command that computes the rgb code of the shaded background color</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">(defun shade-color (intensity)</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">"print the #rgb color of the background, dimmed according to intensity"</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">(interactive "nIntensity of the shade : ")</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">(apply 'format "#%02x%02x%02x"</span>
     <span style="color: #8D8D84;">;;           </span><span style=
"color: #8D8D84; font-style: italic;">(mapcar (lambda (x)</span>
     <span style="color: #8D8D84;">;;                     </span><span style=
"color: #8D8D84; font-style: italic;">(if (&gt; (lsh x -8) intensity)</span>
     <span style=
"color: #8D8D84;">;;                         </span><span style=
"color: #8D8D84; font-style: italic;">(- (lsh x -8) intensity)</span>
     <span style="color: #8D8D84;">;;                       </span><span style=
"color: #8D8D84; font-style: italic;">0))</span>
     <span style="color: #8D8D84;">;;                   </span><span style=
"color: #8D8D84; font-style: italic;">(color-values (cdr (assoc 'background-color (frame-parameters)))))))</span>
     <span style="color: #8D8D84;">;;</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">;; the command that actually puts the stripes in the current buffer</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">(defun stripe-alternate ()</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">"stripes all down the current buffer"</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">(interactive)</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">;; compute the color of the stripes from the value of stripe-intensity</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">(if stripe-intensity</span>
     <span style="color: #8D8D84;">;;        </span><span style=
"color: #8D8D84; font-style: italic;">(setq stripe-overlay-face (shade-color stripe-intensity))</span>
     <span style="color: #8D8D84;">;;      </span><span style=
"color: #8D8D84; font-style: italic;">(setq stripe-overlay-face "gray80"))</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">;; put the overlay in the current buffer</span>
     <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">(save-excursion</span>
     <span style="color: #8D8D84;">;;      </span><span style=
"color: #8D8D84; font-style: italic;">(goto-char (point-min))</span>
     <span style="color: #8D8D84;">;;      </span><span style=
"color: #8D8D84; font-style: italic;">(let (stripe-overlay)</span>
     <span style="color: #8D8D84;">;;        </span><span style=
"color: #8D8D84; font-style: italic;">(while (not (eobp))</span>
     <span style="color: #8D8D84;">;;          </span><span style=
"color: #8D8D84; font-style: italic;">(forward-line)</span>
     <span style="color: #8D8D84;">;;          </span><span style=
"color: #8D8D84; font-style: italic;">(setq stripe-overlay</span>
     <span style="color: #8D8D84;">;;                </span><span style=
"color: #8D8D84; font-style: italic;">(make-overlay (line-beginning-position)</span>
     <span style=
"color: #8D8D84;">;;                              </span><span style=
"color: #8D8D84; font-style: italic;">(line-beginning-position 2)))</span>
     <span style="color: #8D8D84;">;;          </span><span style=
"color: #8D8D84; font-style: italic;">(overlay-put stripe-overlay 'face (list :background stripe-overlay-face))</span>
     <span style="color: #8D8D84;">;;          </span><span style=
"color: #8D8D84; font-style: italic;">(overlay-put stripe-overlay 'priority -1)</span>
     <span style="color: #8D8D84;">;;          </span><span style=
"color: #8D8D84; font-style: italic;">(forward-line)))))</span>
     <span style="color: #8D8D84;">;;</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">;; activate the stripes for the mail buffers only</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">(add-hook 'gnus-summary-prepare-hook (lambda ()</span>
     <span style=
"color: #8D8D84;">;;                                         </span><span style="color: #8D8D84; font-style: italic;">(with-current-buffer gnus-summary-buffer</span>
     <span style=
"color: #8D8D84;">;;                                           </span><span style="color: #8D8D84; font-style: italic;">;; (unless (gnus-news-group-p gnus-newsgroup-name)</span>
     <span style=
"color: #8D8D84;">;;                                             </span><span style="color: #8D8D84; font-style: italic;">(stripe-alternate))))</span>
     <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">;; )</span>

      (message <span style=
"color: #036A07;">"3 Summary Buffer... Done"</span>))
</pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-5" class="outline-2">
      <h2 id="sec-5">Article Buffer</h2>

      <div class="outline-text-2" id="text-5">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 4 (info "(gnus)The Article Buffer")</span>

(<span style="color: #0000FF;">when</span> leuven-section-article-buffer
      (message <span style="color: #036A07;">"4 Article Buffer..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-5-1" class="outline-3">
        <h3 id="sec-5-1">Hiding headers</h3>

        <div class="outline-text-3" id="text-5-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 4.1 Hiding headers</span>

      (eval-after-load <span style="color: #036A07;">"gnus-art"</span>
        '(<span style="color: #0000FF;">progn</span>
           <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">TODO</span><span style="color: #8D8D84; font-style: italic;"> Could be limited to news headers only</span>
           (setq gnus-visible-headers
                 (concat
                 <span style="color: #036A07;">"^User-Agent:</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">^X-Spam-Level:</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">^X-Report-Spam:</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                 gnus-visible-headers))

           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">when Gnus, highlight user agent</span>
           (add-to-list
            'gnus-header-face-alist
            (list (concat
                   <span style="color: #036A07;">"^"</span>
                   (regexp-opt '(<span style=
"color: #036A07;">"User-Agent"</span> <span style=
"color: #036A07;">"X-Mailer"</span> <span style=
"color: #036A07;">"Newsreader"</span> <span style=
"color: #036A07;">"X-Newsreader"</span>) t)
                   <span style="color: #036A07;">":.*Gnus.*"</span>)
                  nil 'gnus-server-opened))))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">,----[ (info "(gnus)Choosing Commands") ]</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">| `G j'</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">| `j'</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">|      Ask for an article number or `</span><span style="color: #D0372D; font-style: italic;">Message-ID</span><span style="color: #8D8D84; font-style: italic;">', and then go to that</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">|      article (`</span><span style=
"color: #D0372D; font-style: italic;">gnus-summary-goto-article</span><span style="color: #8D8D84; font-style: italic;">').</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`----</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">&gt; At the moment, I am appending the `</span><span style="color: #D0372D; font-style: italic;">Message-ID</span><span style="color: #8D8D84; font-style: italic;">' to</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">&gt; `</span><span style=
"color: #D0372D; font-style: italic;">http://groups.google.com/groups?selm=</span><span style="color: #8D8D84; font-style: italic;">' to get the target URL, but this</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">&gt; does not work reliably.</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">auxiliary article mode commands for Gnus</span>
      (<span style=
"color: #0000FF;">when</span> (try-require 'rs-gnus-article-<span style=
"color: #CC0000; background-color: #FFFF88;">XXX</span>)
        <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">FIXME</span><span style="color: #8D8D84; font-style: italic;"> Break my 2-column display for the mails (summary | article)</span>

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">initialization</span>
        (rs-gnus-buttons)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(defun rs-gnus-button-browse-mid (mid)</span>
        <span style="color: #8D8D84;">;;   </span><span style=
"color: #8D8D84; font-style: italic;">"Browse MID on Google or Gmane."</span>
        <span style="color: #8D8D84;">;;   </span><span style=
"color: #8D8D84; font-style: italic;">(message "mid=`</span><span style=
"color: #D0372D; font-style: italic;">%s</span><span style=
"color: #8D8D84; font-style: italic;">'" mid)</span>
        <span style="color: #8D8D84;">;;   </span><span style=
"color: #8D8D84; font-style: italic;">(browse-url (concat</span>
        <span style="color: #8D8D84;">;;                </span><span style=
"color: #8D8D84; font-style: italic;">(if (string-match "\\bgmane\\." gnus-newsgroup-name)</span>
        <span style="color: #8D8D84;">;;                    </span><span style=
"color: #8D8D84; font-style: italic;">"http://thread.gmane.org/31"</span>
        <span style="color: #8D8D84;">;;                  </span><span style=
"color: #8D8D84; font-style: italic;">"http://groups.google.com/groups?as_umsgid=32")</span>
        <span style="color: #8D8D84;">;;                </span><span style=
"color: #8D8D84; font-style: italic;">mid)))</span>

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">open the article in the browser when clicking (or using `</span><span style="color: #D0372D; font-style: italic;">RET</span><span style="color: #8D8D84; font-style: italic;">') on a</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">mid in `</span><span style=
"color: #D0372D; font-style: italic;">References</span><span style=
"color: #8D8D84; font-style: italic;">' and `</span><span style=
"color: #D0372D; font-style: italic;">Message-ID</span><span style=
"color: #8D8D84; font-style: italic;">' headers</span>
        (add-to-list
         'gnus-header-button-alist
         '(<span style="color: #036A07;">"^</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">(</span><span style=
"color: #036A07;">References</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Message-I[Dd]</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">)</span><span style=
"color: #036A07;">:"</span> <span style=
"color: #036A07;">"&lt;</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">(</span><span style=
"color: #036A07;">[</span><span style="color: #036A07;">^</span><span style=
"color: #036A07;">&lt;&gt;]+</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">)</span><span style=
"color: #036A07;">&gt;"</span>
           1 (&gt;= gnus-button-message-level 0) rs-gnus-button-browse-mid 1)
         t)) <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">append!</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 4.2 (info "(gnus)Using MIME")</span>

      (message <span style="color: #036A07;">"Emacs MIME..."</span>)
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-6" class="outline-2">
      <h2 id="sec-6">Emacs MIME</h2>

      <div class="outline-text-2" id="text-6">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* (info "(emacs-mime)Top")</span>
</pre>
        </div>
      </div>

      <div id="outline-container-sec-6-1" class="outline-3">
        <h3 id="sec-6-1">Decoding and Viewing</h3>

        <div class="outline-text-3" id="text-6-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 1 (info "(emacs-mime)Decoding and Viewing")</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-6-2" class="outline-3">
        <h3 id="sec-6-2">Non-MIME</h3>

        <div class="outline-text-3" id="text-6-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 1.2 (info "(emacs-mime)Non-MIME")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">regexp of Emacs sources groups</span>
      (setq mm-uu-emacs-sources-regexp <span style=
"color: #036A07;">"emacs"</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">regexp matching diff groups</span>
      (setq mm-uu-diff-groups-regexp <span style="color: #036A07;">".*"</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">regexp matching TeX groups</span>
      (setq mm-uu-tex-groups-regexp <span style="color: #036A07;">".*"</span>)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-6-3" class="outline-3">
        <h3 id="sec-6-3">Display Customization</h3>

        <div class="outline-text-3" id="text-6-3">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 1.5 (info "(emacs-mime)Display Customization")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">You can view "text/html" parts of the current article with a WWW</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">browser by pressing `K H' (`</span><span style="color: #D0372D; font-style: italic;">gnus-article-browse-html-article</span><span style="color: #8D8D84; font-style: italic;">')</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; MIME type that will be displayed externally automatically</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(add-to-list 'mm-automatic-external-display "text/html")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">do not treat inline images as real attachments (display them,</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">instead)</span>
      (add-to-list 'mm-attachment-override-types <span style=
"color: #036A07;">"image/.*"</span>)
                                        <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">"text/x-vcard"...</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">don't render HTML automatically *when plain text alternative is</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">available*</span>
      (eval-after-load <span style="color: #036A07;">"mm-decode"</span>
        '(<span style="color: #0000FF;">progn</span>
           (add-to-list 'mm-discouraged-alternatives <span style=
"color: #036A07;">"text/html"</span>)
           (add-to-list 'mm-discouraged-alternatives <span style=
"color: #036A07;">"text/richtext"</span>)
           (add-to-list 'mm-discouraged-alternatives <span style=
"color: #036A07;">"text/enriched"</span>)
           (add-to-list 'mm-discouraged-alternatives <span style=
"color: #036A07;">"multipart/related"</span>)))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">all images fit in the buffer</span>
      (setq mm-inline-large-images t)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; always show HTML mails as attachments (even if they can be</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; displayed) use `</span><span style=
"color: #D0372D; font-style: italic;">browse-url-browser-function</span><span style="color: #8D8D84; font-style: italic;">' (firefox) to render</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; HTML mails</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(push "text/html" mm-inline-override-types)</span>


      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">use `</span><span style=
"color: #D0372D; font-style: italic;">w3m</span><span style=
"color: #8D8D84; font-style: italic;">' browser (if installed) to render HTML-only mails</span>
      (setq mm-text-html-renderer
            (<span style=
"color: #0000FF;">cond</span> ((executable-find <span style=
"color: #036A07;">"w3m"</span>) 'w3m) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">or `</span><span style=
"color: #D0372D; font-style: italic;">gnus-w3m</span><span style=
"color: #8D8D84; font-style: italic;">'?</span>
                  (t 'html2text))) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Emacs built-in</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">recent Gnusae have a built-in HTML renderer which even (somewhat)</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">handles CSS</span>
      (setq mm-text-html-renderer 'shr)


      (eval-after-load <span style="color: #036A07;">"w3m"</span>
        '(<span style="color: #0000FF;">progn</span>
           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq browse-url-browser-function 'w3m-browse-url)</span>
           (setq mm-inline-text-html-renderer
                 'mm-inline-text-html-render-with-w3m)
           (setq gnus-article-wash-function
                 'gnus-article-wash-html-with-w3m)

           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Whenever you try to browse URLs found in articles, Gnus</span>
           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(`</span><span style=
"color: #D0372D; font-style: italic;">emacs-w3m</span><span style=
"color: #8D8D84; font-style: italic;">', in fact) complains that "This link is considered</span>
           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">unsafe...". To turn it off, frob the variables</span>
           <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`</span><span style=
"color: #D0372D; font-style: italic;">w3m-safe-url-regexp</span><span style=
"color: #8D8D84; font-style: italic;">' and `</span><span style=
"color: #D0372D; font-style: italic;">mm-w3m-safe-url-regexp</span><span style=
"color: #8D8D84; font-style: italic;">'.</span>
           ))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">allow retrieving images in HTML contents with the &lt;img&gt; tags</span>
      (setq mm-inline-text-html-with-images t)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Remove HTML tags from a buffer</span>
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-wash-ugly-html</span> ()
        <span style="color: #008000;">"Remove ugly HTML tags."</span>
        (interactive)
        (toggle-read-only -1)
        (<span style="color: #0000FF;">save-excursion</span>
          (goto-char (point-min))
          (<span style=
"color: #0000FF;">while</span> (re-search-forward <span style=
"color: #036A07;">"&lt;[</span><span style=
"color: #036A07;">^</span><span style="color: #036A07;">#][</span><span style=
"color: #036A07;">^</span><span style=
"color: #036A07;">&lt;@&gt;]*&gt;"</span> nil t)
            (replace-match <span style="color: #036A07;">""</span> nil nil))
          (goto-char (point-min))
          (<span style=
"color: #0000FF;">while</span> (re-search-forward <span style=
"color: #036A07;">"&amp;gt;"</span> nil t)
            (replace-match <span style=
"color: #036A07;">"&gt;"</span> nil nil))
          (goto-char (point-min))
          (<span style=
"color: #0000FF;">while</span> (re-search-forward <span style=
"color: #036A07;">"&amp;lt;"</span> nil t)
            (replace-match <span style=
"color: #036A07;">"&lt;"</span> nil nil))

          <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">FIXME</span><span style="color: #8D8D84; font-style: italic;"> Do not simply remove accents like it does now</span>
          (goto-char (point-min))
          (<span style=
"color: #0000FF;">while</span> (re-search-forward <span style=
"color: #036A07;">"&amp;[</span><span style=
"color: #036A07;">^</span><span style="color: #036A07;">;]*;"</span> nil t)
            (replace-match <span style="color: #036A07;">""</span> nil nil))))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 1.6 (info "(emacs-mime)Files and Directories")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">default directory for saving attachments</span>
      (setq mm-default-directory <span style=
"color: #036A07;">"~/Desktop/"</span>)
      (setq mm-default-directory <span style=
"color: #036A07;">"~/"</span>) <span style=
"color: #8D8D84;">; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">FIXME</span><span style="color: #8D8D84; font-style: italic;"> Temp on temp pc</span>

      (<span style=
"color: #0000FF;">when</span> (fboundp 'leuven-make-directory-yes-or-no)
        (leuven-make-directory-yes-or-no mm-default-directory))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">directory for storing temporary files (opened attachments as well)</span>
      (setq mm-tmp-directory temporary-file-directory)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-6-4" class="outline-3">
        <h3 id="sec-6-4">Composing</h3>

        <div class="outline-text-3" id="text-6-4">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2 (info "(emacs-mime)Composing")</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 2.4 (info "(emacs-mime)Encoding Customization")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">preferred coding systems for encoding outgoing messages</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">ensure that utf-8 is chosen over iso-latin-9 and latin-1, if possible</span>
      (setq mm-coding-system-priorities
            '(utf-8
              iso-latin-9
              iso-latin-1))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-6-5" class="outline-3">
        <h3 id="sec-6-5">Basic Functions</h3>

        <div class="outline-text-3" id="text-6-5">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 4 (info "(emacs-mime)Basic Functions")</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 4.12 (info "(emacs-mime)mailcap")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">choose the right MIME type when sending an attachment</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">MIME content-types keyed by file extensions</span>
      (eval-after-load <span style="color: #036A07;">"mailcap"</span>
        '(<span style="color: #0000FF;">progn</span>
           (add-to-list 'mailcap-mime-extensions
                        '(<span style=
"color: #036A07;">".doc"</span> . <span style=
"color: #036A07;">"application/msword"</span>))
           (add-to-list 'mailcap-mime-extensions
                        '(<span style=
"color: #036A07;">".ppt"</span> . <span style=
"color: #036A07;">"application/vnd.ms-powerpoint"</span>))))


      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">&gt; which settings do you have to see PDF attachments as text,</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">&gt; automagically? Does it work as well for DOC, XLS and PPT?</span>
      <span style="color: #8D8D84;">;;</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">not here, but I think it's customizable. You need to have the</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">programs installed, of course. The variable to look at is</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">mailcap-mime-data. It is not customizable, but see</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">http://www.gnus.org/manual/emacs-mime_30.html</span>
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-7" class="outline-2">
      <h2 id="sec-7">Back to Article Buffer</h2>

      <div class="outline-text-2" id="text-7">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 4.4 (info "(gnus)Customizing Articles")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(require 'gnus-art)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">add buttons</span>
      (setq gnus-treat-buttonize t)
      (setq gnus-treat-buttonize-head 'head)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">do not display smileys as pictures</span>
      (setq gnus-treat-display-smileys nil)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">sound</span>
      (setq gnus-treat-play-sounds t)
</pre>
        </div>

        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 4.6 (info "(gnus)Misc Article")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">format specification for the article mode line</span>
      (setq gnus-article-mode-line-format <span style=
"color: #036A07;">"%S%m"</span>)

      (message <span style=
"color: #036A07;">"4 Article Buffer... Done"</span>))
</pre>
        </div>

        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">make C-c C-f active from within messages</span>
(define-key gnus-article-mode-map
  (kbd <span style=
"color: #036A07;">"C-c C-f"</span>) 'gnus-summary-mail-forward)
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-8" class="outline-2">
      <h2 id="sec-8">Composing Messages</h2>

      <div class="outline-text-2" id="text-8">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 5 (info "(gnus)Composing Messages")</span>

(<span style="color: #0000FF;">when</span> leuven-section-composing-messages
      (message <span style="color: #036A07;">"5 Composing Messages..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-8-1" class="outline-3">
        <h3 id="sec-8-1">Mail</h3>

        <div class="outline-text-3" id="text-8-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 5.1 (info "(gnus)Mail")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Gnus requests confirmation when replying to news (unlike mail)</span>
      (setq gnus-confirm-mail-reply-to-news t)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-8-2" class="outline-3">
        <h3 id="sec-8-2">Posting Server</h3>

        <div class="outline-text-3" id="text-8-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 5.2 (info "(gnus)Posting Server")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(try-require 'smtpmail)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">sending mail</span>
      (setq send-mail-function 'smtpmail-send-it)  <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">not for Gnus (for `</span><span style=
"color: #D0372D; font-style: italic;">mail</span><span style=
"color: #8D8D84; font-style: italic;">')</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">default SMTP server (overriden by `</span><span style="color: #D0372D; font-style: italic;">smtpmail-smtp-server</span><span style="color: #8D8D84; font-style: italic;">')</span>
      (setq smtpmail-default-smtp-server <span style=
"color: #036A07;">"mail"</span>)
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">process SMTP must be running there</span>

      (setq smtpmail-smtp-server smtpmail-default-smtp-server)
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">avoid the </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">error</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`smtpmail-via-smtp: `</span><span style=
"color: #D0372D; font-style: italic;">smtpmail-smtp-server</span><span style=
"color: #8D8D84; font-style: italic;">' not defined'</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">control the hostname sent in the first EHLO or HELO command sent to</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the server (client sends `EHLO CLARK.smtpmail-local-domain')</span>
      (setq smtpmail-local-domain <span style=
"color: #036A07;">"i-did-not-set--mail-host-address--so-tickle-me"</span>)
      <span style=
"color: #8D8D84;">;;                                          </span><span style="color: #8D8D84; font-style: italic;">^^^^^^^^^^^^^^^^^</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">make the SMTP library add `@' and the specified domain name to</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">recipients specified in the message when they are sent using the RCPT</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">TO command (or when we simply enter an email address without its</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">domain extension)</span>
      (setq smtpmail-sendto-domain <span style=
"color: #036A07;">"local"</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">print info in buffer *trace of SMTP session to &lt;somewhere&gt;*</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">only to debug problems</span>
      (setq smtpmail-debug-info t)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">send the SMTP VERB command (enabling verbose information from the</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">SMTP server)</span>
      (setq smtpmail-debug-verb t)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-8-3" class="outline-3">
        <h3 id="sec-8-3">Archived Messages</h3>

        <div class="outline-text-3" id="text-8-3">
          <p>The <code>Gcc:</code> header is about in which group to save the
          messages you’ve written.</p>

          <p><code>gnus-message-archive-group</code> specifies which (if any)
          <code>Gcc:</code> header is inserted when a message buffer is
          <b>created</b>.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">group in which to save the messages you've written</span>
(setq gnus-message-archive-group <span style=
"color: #036A07;">"nnimap+mail:INBOX.Sent"</span>)
</pre>
          </div>

          <p>The <code>Gcc:</code> header at the time of <b>sending</b> the
          message specifies where it is archived.</p>

          <p>If you want to be asked for each <b>message to be sent</b>, you
          can change the <code>Gcc:</code> header in the
          <code>message-send-hook</code>.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 5.5 (info "(gnus)Archived Messages")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the Gcc Header specifies a local mail box that receives a copy of the</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">sent article</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">"Gcc:"-chooser, from Christoph Conrad</span>
      (<span style="color: #0000FF;">defvar</span> <span style=
"color: #BA36A5;">header-gcc-history</span> nil)
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-choose-gcc</span>()
        (interactive)
        (<span style="color: #0000FF;">let*</span> (<span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">if this "group" is chosen the default "Gcc" remains</span>
               (default <span style=
"color: #036A07;">"nnimap+mail:INBOX"</span>)
               <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">if this "group" is chosen the default "Gcc" is deleted</span>
               (delete <span style=
"color: #036A07;">"nnimap+mail:INBOX.Trash"</span>)
               <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">else the choosen group is inserted as "Gcc:"</span>
               (groups (append gnus-newsrc-alist (list (list default 'dummy)
                                                       (list delete  'dummy))))
               (group (completing-read <span style=
"color: #036A07;">"Gcc: "</span>
                                       groups
                                       nil t default 'header-gcc-history))
               (completion-ignore-case t))
          <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">input?</span>
          (<span style="color: #0000FF;">if</span> (not (equal default group))
              (<span style="color: #0000FF;">progn</span>
                (message-remove-header <span style=
"color: #036A07;">"Gcc"</span> t)
                (<span style=
"color: #0000FF;">if</span> (not (equal delete group))
                    (message-add-header (concat <span style=
"color: #036A07;">"Gcc: "</span> group)))))))

      (add-hook 'message-send-hook 'leuven-choose-gcc)
</pre>
          </div>

          <p>I use it in such a way that, in all my IMAP mail groups, mails I
          write automatically end up in the group I wrote from.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">automatically mark Gcc articles (i.e., sent by myself) as read</span>
      (setq gnus-gcc-mark-as-read t)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-8-4" class="outline-3">
        <h3 id="sec-8-4">Posting Styles</h3>

        <div class="outline-text-3" id="text-8-4">
          <p>Concept of “roles” in mutt.</p>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 5.6 (info "(gnus)Posting Styles")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">an alternative to `</span><span style=
"color: #D0372D; font-style: italic;">gnus-posting-styles</span><span style=
"color: #8D8D84; font-style: italic;">', if you want to change</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">accounts on the fly while composing messages</span>
      (autoload 'gnus-alias-determine-identity <span style=
"color: #036A07;">"gnus-alias"</span> nil t)
      (add-hook 'message-setup-hook 'gnus-alias-determine-identity)

      (eval-after-load <span style="color: #036A07;">"gnus-alias"</span>
        '(<span style="color: #0000FF;">progn</span>

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; add gnus-alias call to message mode hook</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(gnus-alias-init)</span>

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">added one key binding</span>
        (define-key message-mode-map
          (kbd <span style=
"color: #036A07;">"C-c p"</span>) 'gnus-alias-select-identity)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">set up my identities</span>
        (setq gnus-alias-identity-alist
              '((<span style="color: #036A07;">"John-Doe-ID"</span>
                 <span style="color: #036A07;">""</span>
                 <span style="color: #036A07;">"\"John Doe\" <a href=
"mailto:john%40doe.com">&lt;john@doe.com&gt;</a>"</span>
                 <span style="color: #036A07;">"John Doe"</span>
                 ((<span style="color: #036A07;">"X-Url"</span> . <span style=
"color: #036A07;">"http://www.doe.com/~john"</span>))
                 <span style="color: #036A07;">"\nJohn\n"</span>
                 <span style="color: #036A07;">"John Doe"</span>)

                (<span style="color: #036A07;">"Jane-Doe-ID"</span>
                 <span style="color: #036A07;">""</span>
                 <span style="color: #036A07;">"\"Jane Doe\" <a href=
"mailto:jane%40doe.com">&lt;jane@doe.com&gt;</a>"</span>
                 <span style="color: #036A07;">"Jane Doe"</span>
                 ((<span style="color: #036A07;">"X-Url"</span> . <span style=
"color: #036A07;">"Under construction..."</span>))
                 <span style=
"color: #036A07;">"\nBest regards,\n  Jane\n"</span>
                 <span style="color: #036A07;">"Jane Doe"</span>)))

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">automatically choose an identity given the message context</span>
        (setq gnus-alias-identity-rules
              '((<span style="color: #036A07;">"John-Doe-Rule"</span>
                 (<span style="color: #036A07;">"any"</span> <span style=
"color: #036A07;">"john@doe.com"</span> both)
                 <span style="color: #036A07;">"John-Doe-ID"</span>)

                (<span style="color: #036A07;">"Jane-Doe-Rule"</span>
                 (<span style="color: #036A07;">"any"</span> <span style=
"color: #036A07;">"jane@doe.com"</span> both)
                 <span style="color: #036A07;">"Jane-Doe-ID"</span>)))

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">identity to use when gnus-alias finds an unknown identity</span>
        (setq gnus-alias-unknown-identity-rule '<span style=
"color: #CC0000; background-color: #FFFF88;">error</span>)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">default identity (when it isn't able to determine which identity to</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">use)</span>
        (setq gnus-alias-default-identity <span style=
"color: #036A07;">"John-Doe-ID"</span>)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">old identity is completely removed before the new one is added</span>
        (setq gnus-alias-overlay-identities nil)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">allow your `</span><span style=
"color: #D0372D; font-style: italic;">Return-Path</span><span style=
"color: #8D8D84; font-style: italic;">' to be set properly</span>
        (setq gnus-alias-override-user-mail-address t)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">after an Identity is used, where should point be moved to?</span>
        (setq gnus-alias-point-position 'start-of-sig)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`</span><span style=
"color: #D0372D; font-style: italic;">From</span><span style=
"color: #8D8D84; font-style: italic;">' header becomes a button that you can click on</span>
        (setq gnus-alias-use-buttonized-from t)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">level of verbosity -- message output only (see `*gnus-alias debug*'</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">buffer, when maximum verbosity)</span>
        (setq gnus-alias-verbosity 1)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">set message envelope to content of `</span><span style="color: #D0372D; font-style: italic;">From</span><span style="color: #8D8D84; font-style: italic;">'</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">XXX</span><span style="color: #8D8D84; font-style: italic;"> see `</span><span style="color: #D0372D; font-style: italic;">mail-specify-envelope-from</span><span style="color: #8D8D84; font-style: italic;">'</span>
        (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-set-msg-envelope-from</span>()
          <span style="color: #008000;">"Set `</span><span style=
"color: #D0372D;">mail-envelope-from</span><span style=
"color: #008000;">' to the value in the \"From\" field."</span>
          (<span style=
"color: #0000FF;">let*</span> ((from (message-fetch-field <span style=
"color: #036A07;">"From"</span> t))
                 (first (1+ (string-match <span style=
"color: #036A07;">"&lt;"</span> from)))
                 (last (string-match <span style=
"color: #036A07;">"&gt;"</span> from)))
            (setq mail-envelope-from (substring from first last))))

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; alternative for FPZ??</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(defun leuven-set-msg-envelope-from ()</span>
        <span style="color: #8D8D84;">;;   </span><span style=
"color: #8D8D84; font-style: italic;">(let ((from (cadr</span>
        <span style="color: #8D8D84;">;;                </span><span style=
"color: #8D8D84; font-style: italic;">(mail-extract-address-components</span>
        <span style="color: #8D8D84;">;;                 </span><span style=
"color: #8D8D84; font-style: italic;">(message-field-value "from")))))</span>
        <span style="color: #8D8D84;">;;       </span><span style=
"color: #8D8D84; font-style: italic;">(setq mail-envelope-from from)))</span>

        (add-hook 'message-setup-hook 'leuven-set-msg-envelope-from)
        ))
</pre>
          </div>
        </div>

        <div id="outline-container-sec-8-4-1" class="outline-4">
          <h4 id="sec-8-4-1">Multiple servers</h4>

          <div class="outline-text-4" id="text-8-4-1">
            <p>Let Gnus decide which SMTP server should be used for sending
            email by looking at XXX.</p>

            <p>See <a href=
            "http://www.emacswiki.org/emacs/MultipleSMTPAccounts">http://www.emacswiki.org/emacs/MultipleSMTPAccounts</a>
            for looking at the <code>From:</code> header line of the current
            post.</p>
          </div>
        </div>

        <div id="outline-container-sec-8-4-2" class="outline-4">
          <h4 id="sec-8-4-2">Headers</h4>

          <div class="outline-text-4" id="text-8-4-2">
            <div class="org-src-container">
              <pre class="src src-emacs-lisp">
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">add certain headers before sending messages</span>
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-message-add-content</span> ()
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">for Gmane address obfuscation</span>
        (message-add-header <span style=
"color: #036A07;">"X-Archive: encrypt"</span>))

      (add-hook 'message-send-hook 'leuven-message-add-content)
</pre>
            </div>

            <div class="org-src-container">
              <pre class="src src-emacs-lisp">
      (message <span style=
"color: #036A07;">"5 Composing Messages... Done"</span>))
</pre>
            </div>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-9" class="outline-2">
      <h2 id="sec-9">Message</h2>

      <div class="outline-text-2" id="text-9">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* (info "(message)Top")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Message mode has become the default mail editing mode in Emacs 23.2+</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(used by Gnus and RMail, at least)</span>

(<span style="color: #0000FF;">when</span> leuven-section-message
      (message <span style="color: #036A07;">"Message..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-9-1" class="outline-3">
        <h3 id="sec-9-1">Interface</h3>

        <div class="outline-text-3" id="text-9-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 1 (info "(message)Interface")</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 1.1 (info "(message)New Mail Message")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">keyboard macro to prepare a mail from the current buffer</span>
      (fset 'leuven-mail-this-buffer <span style=
"color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">XXX</span><span style="color: #8D8D84; font-style: italic;"> does not work</span>
            <span style=
"color: #036A07;">"\C-xh\M-w\M-xmail\C-m\C-c\C-t\C-y\C-c\C-f\C-t"</span>)

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 1.4 (info "(message)Wide Reply")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">addresses to prune (disable `</span><span style="color: #D0372D; font-style: italic;">Cc:</span><span style="color: #8D8D84; font-style: italic;">' to myself) when doing wide replies</span>
      (eval-after-load <span style="color: #036A07;">"message"</span>
        (<span style=
"color: #0000FF;">when</span> (boundp 'gnus-ignored-from-addresses)
          (setq message-dont-reply-to-names gnus-ignored-from-addresses)))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 1.8 (info "(message)Forwarding")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">delimiter inserted before forwarded messages</span>
      (setq message-forward-start-separator <span style=
"color: #036A07;">"-----Original Message-----\n"</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">delimiter inserted after forwarded messages</span>
      (setq message-forward-end-separator <span style=
"color: #036A07;">"\n"</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">when forwarding mail, chop off these headers</span>
      (setq message-forward-ignored-headers
            (concat <span style="color: #036A07;">"^</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">(</span><span style=
"color: #036A07;">"</span>
                    <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">FIXME</span><span style="color: #8D8D84; font-style: italic;"> Rewrite the following in a shorter way</span>
                    <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(mapconcat 'regexp-quote</span>
                    <span style=
"color: #8D8D84;">;;            </span><span style=
"color: #8D8D84; font-style: italic;">'("Content-Class" "Content-language" "DKIM-Signature"</span>
                    <span style=
"color: #8D8D84;">;;              </span><span style=
"color: #8D8D84; font-style: italic;">"Delivered-To" "Disposition-Notification-To")</span>
                    <span style=
"color: #8D8D84;">;;            </span><span style=
"color: #8D8D84; font-style: italic;">"\\|")</span>

                    <span style="color: #036A07;">"Approved</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Archived-At</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Authentication-Results</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Accept-Language</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">acceptlanguage</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Auto-Submitted</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style="color: #036A07;">"BCc</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Cancel-Lock</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Content-Class</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Content-language</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"DKIM-Signature</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Delivered-To</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Disposition-Notification-To</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">DomainKey-Signature</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Envelope-to</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #CC0000; background-color: #FFFF88;">Error</span><span style=
"color: #036A07;">s-To</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style="color: #036A07;">"Face</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Importance</span><span style="color: #036A07; font-weight: bold;">\\</span><span style="color: #036A07; font-weight: bold;">|</span><span style="color: #036A07;">In-Reply-To</span><span style="color: #036A07; font-weight: bold;">\\</span><span style="color: #036A07; font-weight: bold;">|</span><span style="color: #036A07;">"</span>
                    <span style="color: #036A07;">"Lines</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">List-.*</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Message-Id</span><span style="color: #036A07; font-weight: bold;">\\</span><span style="color: #036A07; font-weight: bold;">|</span><span style="color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"NNTP-Posting-Date</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">NNTP-Posting-Host</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Organization</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Original-.*</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style="color: #036A07;">"Path</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Precedence</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Priority</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Received-SPF</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Received</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">References</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Reply-To</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Return-Path</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Return-Receipt-To</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style="color: #036A07;">"Sender</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Sensitivity</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"Thread-Index</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">Thread-Topic</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;">"</span>
                    <span style=
"color: #036A07;">"User-Agent</span><span style="color: #036A07; font-weight: bold;">\\</span><span style="color: #036A07; font-weight: bold;">|</span><span style="color: #036A07;">"</span>
                    <span style="color: #036A07;">"X.*"</span>
                    <span style="color: #036A07;">"</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">)</span><span style=
"color: #036A07;">:"</span>))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">subject of article with 'Fwd:' prepended to it, for forwarded</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">messages</span>
      (setq message-make-forward-subject-function
            'message-forward-subject-fwd)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">forwarded messages will just be copied inline to the new message</span>
      (setq message-forward-as-mime nil)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-9-2" class="outline-3">
        <h3 id="sec-9-2">Commands</h3>

        <div class="outline-text-3" id="text-9-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 2 (info "(message)Commands")</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 2.4 (info "(message)Insertion")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">name of file containing the signature</span>
      (setq message-signature-file <span style=
"color: #036A07;">"~/Mail/signatures/john-doe"</span>)
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">this file must exist (otherwise, you get misplaced headers when</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">switching between personalities (see `</span><span style="color: #D0372D; font-style: italic;">gnus-alias</span><span style="color: #8D8D84; font-style: italic;">')</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 2.8 (info "(message)Various Commands")</span>

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-gnus-obfuscate-email</span> (username)
        <span style=
"color: #008000;">"Wrapper for email address obfuscation."</span>
        (apply 'leuven-mail-obfuscate-address
               (list username
                     (<span style=
"color: #0000FF;">cond</span> ((string-equal leuven-system <span style=
"color: #036A07;">"slac"</span>)
                            <span style=
"color: #036A07;">"generic@slac.stanford.edu"</span>)
                           ((string-equal leuven-system <span style=
"color: #036A07;">"gnu"</span>)
                            <span style=
"color: #036A07;">"generic@gnu.org"</span>)
                           (t
                            <span style=
"color: #036A07;">"generic@ast.cam.ac.uk"</span>)))))

      (<span style="color: #0000FF;">when</span> (<span style=
"color: #0000FF;">require</span> '<span style=
"color: #D0372D;">gnushush</span> nil t)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Note headers with total length &gt; 76 chars get folded by</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">rfc2047-fold-region, called from mail-encode-encoded-word-buffer,</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">called from message-send-mail.</span>
        (setq gnushush-enable-p t
              <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Shows up in the headers, so may as well use it.</span>
              gnushush-fqdn (system-name)
              gnushush-uid 'random
              gnushush-sender-header 'none
              gnushush-user-agent-header
              <span style=
"color: #036A07;">"Gnus (www.gnus.org), GNU Emacs (www.gnu.org/software/emacs/)"</span>))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 2.11 (info "(message)Spelling")</span>

     (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-message-setup-routine</span> ()
       (flyspell-mode 1))
     (add-hook 'message-setup-hook 'leuven-message-setup-routine)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-9-3" class="outline-3">
        <h3 id="sec-9-3">Variables</h3>

        <div class="outline-text-3" id="text-9-3">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 3 (info "(message)Variables")</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 3.1 (info "(message)Message Headers")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">specify how `</span><span style=
"color: #D0372D; font-style: italic;">From</span><span style=
"color: #8D8D84; font-style: italic;">' headers should look</span>
      (setq message-from-style 'angles)

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 3.3 (info "(message)Mail Variables")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">sending mail -- for Gnus (for `</span><span style="color: #D0372D; font-style: italic;">message</span><span style="color: #8D8D84; font-style: italic;">')</span>
      (setq message-send-mail-function 'message-smtpmail-send-it)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">limit on the size of messages sent (5 MB)</span>
      (setq message-send-mail-partially-limit (* 5 1024 1024))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 3.4 (info "(message)News Headers")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">domain part of message-Ids</span>
      (setq message-user-fqdn <span style=
"color: #036A07;">"somewhere.org"</span>) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(system-name)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">tell Gnus not to generate a sender header on outgoing posts</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(default behavior since Gnus 5.10.0)</span>
      (eval-after-load <span style="color: #036A07;">"message"</span>
        '(add-to-list 'message-syntax-checks '(sender . disabled)))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 3.6 (info "(message)Insertion Variables")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">function for citing an original message</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(stripping off the signature from the original message)</span>
      (setq message-cite-function 'message-cite-original-without-signature)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq message-cite-function 'trivial-cite</span>
      <span style="color: #8D8D84;">;;       </span><span style=
"color: #8D8D84; font-style: italic;">tc-normal-citemarks "&gt;|:"</span>
      <span style="color: #8D8D84;">;;       </span><span style=
"color: #8D8D84; font-style: italic;">tc-fill-long-lines nil</span>
      <span style="color: #8D8D84;">;;       </span><span style=
"color: #8D8D84; font-style: italic;">tc-make-attribution 'tc-fancy-attribution)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">don't write the email address of the original poster, but only its</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">name</span>
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">message-insert-citation-line</span> ()
        <span style=
"color: #008000;">"A replacement of the original `</span><span style=
"color: #D0372D;">message-insert-citation-line</span><span style=
"color: #008000;">'."</span>
        (<span style=
"color: #0000FF;">let</span> ((author (replace-regexp-in-string
                       <span style="color: #036A07;">"[()]</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">|</span><span style=
"color: #036A07;"> ?[</span><span style="color: #036A07;">^</span><span style=
"color: #036A07;"> ]*?@[</span><span style=
"color: #036A07;">^</span><span style=
"color: #036A07;"> ]* ?"</span> <span style="color: #036A07;">""</span>
                       (mail-header-from message-reply-headers))))
          (insert (concat (<span style=
"color: #0000FF;">if</span> (string= author <span style=
"color: #036A07;">""</span>)
                              (concat <span style=
"color: #036A07;">"Author?\n\n"</span>
                                      (mail-header-from message-reply-headers))
                            (concat author <span style=
"color: #036A07;">",\n\n"</span> author))
                          <span style="color: #036A07;">" wrote:\n"</span>))))

      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven-message-insert-citation-line</span> ()
        <span style="color: #008000;">"Insert preferred citation line."</span>
        (<span style="color: #0000FF;">if</span> message-reply-headers
            (<span style=
"color: #0000FF;">let*</span> ((from (mail-header-from message-reply-headers))
                   (head (or
                          (and
                           (string-match <span style=
"color: #036A07;">"[ \t]*&lt;[</span><span style=
"color: #036A07;">^</span><span style=
"color: #036A07;">&gt;]+&gt;\\'"</span> from)
                           (replace-match <span style=
"color: #036A07;">""</span> nil t from))
                          (and
                           (string-match <span style=
"color: #036A07;">"(</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">(</span><span style=
"color: #036A07;">[</span><span style="color: #036A07;">^</span><span style=
"color: #036A07;">)]+</span><span style=
"color: #036A07; font-weight: bold;">\\</span><span style=
"color: #036A07; font-weight: bold;">)</span><span style=
"color: #036A07;">)[ \t]*\\'"</span> from)
                           (match-string 1 from)))))
              (insert (or head from) <span style=
"color: #036A07;">" wrote:\n\n"</span>))))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 3.7 (info "(message)Various Message Variables")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; directory from which all other mail file variables are derived</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq message-directory "~/Mail/")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">remove the binding of `C-c C-v', used by Org-Babel commands</span>
      (add-hook 'message-mode-hook
                (<span style="color: #0000FF;">lambda</span> ()
                  (define-key message-mode-map
                    (kbd <span style="color: #036A07;">"C-c C-v"</span>) nil)))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">operates on messages you compose</span>
      (<span style="color: #0000FF;">defun</span> <span style=
"color: #006699;">leuven--message-mode-hook</span> ()
        <span style=
"color: #008000;">"Enable Org minor modes, auto-fill and auto-complete."</span>

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; prompt for and insert a mail alias</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(local-set-key (kbd "M-a") 'mail-abbrev-insert-alias)</span>

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">tab completion for alias in `</span><span style="color: #D0372D; font-style: italic;">.mailrc</span><span style="color: #8D8D84; font-style: italic;">'</span>
        (local-set-key (kbd <span style=
"color: #036A07;">"&lt;M-tab&gt;"</span>) 'mail-abbrev-complete-alias)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">enable automatic word-wrap when composing messages</span>
        (setq-default fill-column 79)
        (turn-on-auto-fill)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">turn on the Org mode table editor (in emails)</span>
        (turn-on-orgtbl)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">turn on (the enhanced version of) orgstruct-mode</span>
        (turn-on-orgstruct++)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; make `</span><span style=
"color: #D0372D; font-style: italic;">orgstruct-hijacker-command-22</span><span style="color: #8D8D84; font-style: italic;">' rebind `</span><span style="color: #D0372D; font-style: italic;">M-q</span><span style="color: #8D8D84; font-style: italic;">' to a message</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; specific function to fill a paragraph</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq fill-paragraph-function 'org-fill-paragraph)</span>

        (<span style="color: #0000FF;">when</span> (try-require 'org-footnote)
          <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">default style used for footnoting is local to the Message being</span>
          <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">written</span>
          (set (make-local-variable 'org-footnote-auto-label) 'plain)

          <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">no tag marking the beginning of footnote section</span>
          (set (make-local-variable
          'org-footnote-tag-for-non-org-mode-files) nil))

        (<span style="color: #0000FF;">when</span> (try-require 'auto-complete)
          (auto-complete-mode)))

      (add-hook 'message-mode-hook 'leuven--message-mode-hook)

      (add-hook 'message-send-hook 'org-footnote-normalize)

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 3.9 (info "(message)Message Buffers")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">kill message buffer after sending a message</span>
      (setq message-kill-buffer-on-exit t)

      (message <span style="color: #036A07;">"Message... Done"</span>))
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-10" class="outline-2">
      <h2 id="sec-10">Select Methods</h2>

      <div class="outline-text-2" id="text-10">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 6 (info "(gnus)Select Methods")</span>

(<span style="color: #0000FF;">when</span> leuven-section-select-methods
      (message <span style="color: #036A07;">"6 Select Methods..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-10-1" class="outline-3">
        <h3 id="sec-10-1">Getting Mail</h3>

        <div class="outline-text-3" id="text-10-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 6.3 (info "(gnus)Getting Mail")</span>

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 6.3.3 (info "(gnus)Splitting Mail") (in IMAP)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the registry should be installed</span>
      (setq gnus-registry-install t)    <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">for `G G' searches</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">article registry for Gnus</span>
      (<span style=
"color: #0000FF;">when</span> (try-require 'gnus-registry-<span style=
"color: #CC0000; background-color: #FFFF88;">XXX</span>)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">use long group names (so that Gnus knows where the article is)</span>
        (setq gnus-registry-use-long-group-names t)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">unlimited number of entries in the registry</span>
        (setq gnus-registry-max-entries nil)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">enable the various registry functions</span>
        (gnus-registry-initialize))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">the first match in `</span><span style=
"color: #D0372D; font-style: italic;">nnmail-split-rule</span><span style=
"color: #8D8D84; font-style: italic;">' found will be used</span>
      (setq nnmail-crosspost nil)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">name(s) of IMAP mailboxes to split mail from</span>
      (setq nnimap-inbox '(<span style=
"color: #036A07;">"INBOX"</span>))    <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">Gnus v5.13</span>
      (setq nnimap-split-inbox '(<span style=
"color: #036A07;">"INBOX"</span>)) <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">Ma Gnus</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">BBDB (Big Brother DataBase) is loaded from my `</span><span style="color: #D0372D; font-style: italic;">.emacs</span><span style="color: #8D8D84; font-style: italic;">' file</span>
      (<span style="color: #0000FF;">when</span> (try-require 'bbdb-gnus)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">split function to use (sorting mails into groups using BBDB)</span>
        (setq nnimap-split-methods 'nnimap-split-fancy)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">for records which don't have gnus-private set, the following rules in</span>
        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">split--fancy are invoked</span>
        (setq bbdb/gnus-split-default-group nil)

        <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">specify how to split mail</span>
        (setq nnimap-split-fancy
              <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">split to the first rule making a match</span>
              `(| <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">invoke BBDB</span>
                  (: (<span style="color: #0000FF;">lambda</span> ()
                       (car (bbdb/gnus-split-method))))

                  <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">catch spam</span>
                  (<span style=
"color: #036A07;">"X-Spam-Status"</span> <span style=
"color: #036A07;">"[Yy]es"</span> <span style=
"color: #036A07;">"INBOX.Spam"</span>)

                  <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">unmatched mail goes to the catch-all group (default mailbox)</span>
                  <span style="color: #036A07;">"INBOX"</span>)))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 6.3.9 (info "(gnus)Expiring Mail")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">How can I purge a message from an IMAP server using Gnus?</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">IMAP calls it "Expunge" of deleted messages, Gnus calls it expiry of</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">expirable (marked 'E') messages..</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">groups in which to perform expiry of all read articles</span>
      (setq gnus-total-expirable-newsgroups <span style=
"color: #036A07;">"\\`nnrss:"</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; disable the expiry process started on leaving a group (for speed</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; reason) before you leave for lunch, `M-x</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; gnus-group-expire-all-groups'</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(remove-hook 'gnus-summary-prepare-exit-hook</span>
      <span style="color: #8D8D84;">;;              </span><span style=
"color: #8D8D84; font-style: italic;">'gnus-summary-expire-articles)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">make the `d' key mean `</span><span style="color: #D0372D; font-style: italic;">delete</span><span style="color: #8D8D84; font-style: italic;">' in mail groups, too (as in many other</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">modes), instead of `keep this message for archival purposes'</span>
      (define-key gnus-summary-mode-map
        (kbd <span style=
"color: #036A07;">"d"</span>) 'gnus-summary-mark-as-expirable)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; Email pre-expiry period according to group</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq nnmail-expiry-wait-function</span>
      <span style="color: #8D8D84;">;;       </span><span style=
"color: #8D8D84; font-style: italic;">(lambda (group)</span>
      <span style="color: #8D8D84;">;;         </span><span style=
"color: #8D8D84; font-style: italic;">(cond ((string= group "Gmail")      90)</span>
      <span style="color: #8D8D84;">;;               </span><span style=
"color: #8D8D84; font-style: italic;">((string= group "moley")      30)</span>
      <span style="color: #8D8D84;">;;               </span><span style=
"color: #8D8D84; font-style: italic;">((string= group "blackhole") 'immediate)</span>
      <span style="color: #8D8D84;">;;               </span><span style=
"color: #8D8D84; font-style: italic;">(t                            7))))</span>
      <span style="color: #8D8D84;">;;</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; Each time I quit the summary buffer of 'blackhole', any read mail</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; is immediately expired</span>


      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">"deletion" versus "expiry"</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; messages should be expired as soon as possible (when the mail</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; group is left)</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq nnmail-expiry-wait 'immediate)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">1) Only (*only*) articles that are marked as expirable are apt to be</span>
      <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">expired. (Yes, *only* those. Yes.)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">2) If you have made a group total-expirable, all read articles are</span>
      <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">apt to be expired. (Yes, only the read articles. No, not the</span>
      <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">unread, ticked and dormant articles. Only the read ones.)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Delete, even in IMAP terms, means "I want this message to go</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">away soon."  IMAP has no equivalent to Gnus' expire mark, which means</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">"I want this message to go away after expiry-wait days."</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">When you `B DEL', the message dies immediately, now and forever.</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">There is no recovery.</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">This is "delete" as in "delete it from your disk forever and ever,</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">never to return again." Use with caution.</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">If you want something to be scheduled for death, then hit `E' to mark</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">a message as expirable. The default expiry interval is one week, at</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">which point it will be deleted automatically, as though you had hit</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">it then with `B DEL'. Then you have 7 days to undelete the messages.</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Many mailers have a concept of a "deleted items" folder but Gnus does</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">not have that.  It has expiry instead, so that articles due to</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">disappear will remain where they belong until their expiry interval</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">arrives.</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Deleting a message is normally done via marking as expirable: you hit</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`E' (not `e') to mark a message as expirable, and whenever expiry is</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">run (normally when you `q'uit a summary buffer), the old E messages</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">are deleted (old == nnmail-expiry-wait days).</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">1. No expiry.  Only articles explicitly marked with 'E' from the</span>
      <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">summary buffer are expired.  Reading articles marks them 'R'ead.</span>
      <span style="color: #8D8D84;">;;</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">2. Auto-expiry.  Only articles marked expirable are expired, but</span>
      <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">reading articles marks them 'E'xpirable.</span>
      <span style="color: #8D8D84;">;;</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">3. Total-expiry.  Articles merely marked 'R'ead are expired, along</span>
      <span style="color: #8D8D84;">;;    </span><span style=
"color: #8D8D84; font-style: italic;">with articles explicitly marked 'E'xpirable.</span>
      <span style="color: #8D8D84;">;;</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Assuming you read every article, auto- and total-expiry will</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">eventually expire them all at the same times. It's just a question as</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">to whether you'd prefer to mark articles as expirable or read when</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">you read them. I tend to use total-expiry for everything; it has</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">predictable behavior if I'm switching it on and off for a group, and</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">I understand better how it works with scoring.</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">delete the article when pressing `</span><span style="color: #D0372D; font-style: italic;">Delete</span><span style="color: #8D8D84; font-style: italic;">'</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">FIXME</span><span style="color: #8D8D84; font-style: italic;"> Does not work... This is the opposite of SPC (page down)!</span>
(eval-after-load <span style="color: #036A07;">"gnus-sum"</span> <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">be sure to override default</span>
      (gnus-define-keys gnus-summary-mode-map
        [delete] gnus-summary-delete-article))

<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">*** 6.3.11 (info "(gnus)Duplicates")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">cache of old Message-IDs for every message Gnus sees</span>
      (setq nnmail-message-id-cache-file
            (concat gnus-directory <span style=
"color: #036A07;">".nnmail-cache"</span>))

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">to use `</span><span style=
"color: #D0372D; font-style: italic;">nnmail-split-fancy-with-parent</span><span style="color: #8D8D84; font-style: italic;">'</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">record the message id of every message it sees</span>
(setq nnmail-treat-duplicates 'warn)     <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">or `</span><span style=
"color: #D0372D; font-style: italic;">delete</span><span style=
"color: #8D8D84; font-style: italic;">'</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">ensure that the message ids are still in the cache</span>
(setq nnmail-message-id-cache-length 5000)

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">record the message ids of moved articles</span>
(setq nnmail-cache-accepted-message-ids t)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-10-2" class="outline-3">
        <h3 id="sec-10-2">Browsing the Web</h3>

        <div class="outline-text-3" id="text-10-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 6.4 (info "(gnus)Browsing the Web")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">use `</span><span style=
"color: #D0372D; font-style: italic;">wget</span><span style=
"color: #8D8D84; font-style: italic;">' instead of `</span><span style=
"color: #D0372D; font-style: italic;">url.el</span><span style=
"color: #8D8D84; font-style: italic;">' (for nnweb-type google), cause it</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">seems to be more reliable (about how the HTML is fetched)</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">use external grab program (to fetch the RSS feed, etc.)</span>
      (setq mm-url-use-external t)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">URL grab program</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">TODO</span><span style="color: #8D8D84; font-style: italic;"> Protect in case wget is not installed</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq mm-url-program "wget") ; make sure you don't use the symbol 'wget</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">FYI, wget is run when a link from Org is not found, for example</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">because the mail has been moved from one group to another.</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">arguments for `</span><span style=
"color: #D0372D; font-style: italic;">mm-url-program</span><span style=
"color: #8D8D84; font-style: italic;">'</span>
      (setq mm-url-arguments '(<span style=
"color: #036A07;">"-q"</span> <span style=
"color: #036A07;">"-O"</span> <span style="color: #036A07;">"-"</span>))

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">how to find the parent article</span>
      (<span style=
"color: #0000FF;">when</span> (try-require 'nnweb-<span style=
"color: #CC0000; background-color: #FFFF88;">XXX</span>)    <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">not sure it really works!?</span>
        (setq gnus-refer-article-method
              '(
                <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">first try the current method</span>
                current

                <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(nnregistry)</span>

                (nnweb <span style=
"color: #036A07;">"gmane"</span> (nnweb-type gmane))

                <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">then ask Google</span>
                (nnweb <span style=
"color: #036A07;">"google"</span> (nnweb-type google))

                <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">and finally ask `</span><span style=
"color: #D0372D; font-style: italic;">news.gmane.org</span><span style=
"color: #8D8D84; font-style: italic;">' if that fails</span>
                (nntp <span style="color: #036A07;">"news.gmane.org"</span>)
                )))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-10-3" class="outline-3">
        <h3 id="sec-10-3">IMAP</h3>

        <div class="outline-text-3" id="text-10-3">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 6.5 (info "(gnus)IMAP")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">log commands (imap session trace) to the `*imap log*' buffer</span>
      (setq nnimap-record-commands t)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-10-4" class="outline-3">
        <h3 id="sec-10-4">Gnus Unplugged</h3>

        <div class="outline-text-3" id="text-10-4">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 6.8 (info "(gnus)Gnus Unplugged")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">disable the Gnus agent (used for "offline" reading)</span>
      (setq gnus-agent nil) <span style=
"color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">prevent being unable to delete some mails from</span>
                            <span style=
"color: #8D8D84;">;; </span><span style="color: #8D8D84; font-style: italic;">your inbox</span>

      (message <span style=
"color: #036A07;">"6 Select Methods... Done"</span>))
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-11" class="outline-2">
      <h2 id="sec-11">Scoring</h2>

      <div class="outline-text-2" id="text-11">
        <p>You can <i>increase</i> or <i>lower</i> the score, respectively, in
        the global file (instead of the score file local for the group) by
        pressing <code>M-i a I</code> or <code>M-i a L</code>.</p>

        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 7 (info "(gnus)Scoring")</span>

(<span style="color: #0000FF;">when</span> leuven-section-scoring
      (message <span style="color: #036A07;">"7 Scoring..."</span>)

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; directory where kill and score files will be stored</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(setq gnus-kill-files-directory "~/")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; increase score of messages that are replies to my own postings</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">;; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">TODO</span><span style="color: #8D8D84; font-style: italic;"> only for newsgroups (and not for mails)!</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(add-hook 'message-sent-hook 'gnus-score-followup-article)</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">(add-hook 'message-sent-hook 'gnus-score-followup-thread)</span>

      (message <span style="color: #036A07;">"7 Scoring... Done"</span>))
</pre>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-12" class="outline-2">
      <h2 id="sec-12">Searching</h2>

      <div class="outline-text-2" id="text-12">
        <p>Basically, there’s only one user-frontend function:
        <code>gnus-group-make-nnir-group</code> bound to <code>G G</code> in
        <code>*Group*</code>.</p>

        <p>It comes with Gnus. You don’t even need to configure anything for
        searching <b>IMAP</b> and <b>Gmane</b> groups.</p>
      </div>
    </div>

    <div id="outline-container-sec-13" class="outline-2">
      <h2 id="sec-13">Various</h2>

      <div class="outline-text-2" id="text-13">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 9 (info "(gnus)Various")</span>

(<span style="color: #0000FF;">when</span> leuven-section-various
      (message <span style="color: #036A07;">"8 Various..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-13-1" class="outline-3">
        <h3 id="sec-13-1">Interactive</h3>

        <div class="outline-text-3" id="text-13-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 9.2 (info "(gnus)Interactive")</span>

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">don't display verbose messages and don't require confirmations</span>
(setq gnus-novice-user nil)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-13-2" class="outline-3">
        <h3 id="sec-13-2">Formatting Variables</h3>

        <div class="outline-text-3" id="text-13-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 9.4 (info "(gnus)Formatting Variables")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">assume that fixed width fonts have characters of the same width</span>
      (setq gnus-use-correct-string-widths nil)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-13-3" class="outline-3">
        <h3 id="sec-13-3">Window Layout</h3>

        <div class="outline-text-3" id="text-13-3">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 9.5 (info "(gnus)Window Layout")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">add a window configuration to `</span><span style="color: #D0372D; font-style: italic;">gnus-buffer-configuration</span><span style="color: #8D8D84; font-style: italic;">'</span>
      (<span style="color: #0000FF;">if</span> (&gt; (frame-width) 160)
          (gnus-add-configuration
           '(article
             (horizontal 1.0
                         (summary 0.50 point)
                         <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`</span><span style=
"color: #D0372D; font-style: italic;">point</span><span style=
"color: #8D8D84; font-style: italic;">' positions the cursor properly</span>
                         (article 1.0))))
        (gnus-add-configuration
         '(article
           (vertical 1.0
                     (summary 0.40 point)
                     (article 1.0)))))
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-13-4" class="outline-3">
        <h3 id="sec-13-4">Interaction with other modes</h3>

        <div class="outline-text-3" id="text-13-4">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 9.20 Interaction with (info "(gnus)Other modes")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">attach all marked files from Dired to a new Gnus message</span>
      (autoload 'turn-on-gnus-dired-mode <span style=
"color: #036A07;">"gnus-dired"</span>
        <span style=
"color: #008000;">"Attach dired's marked files to a gnus message composition."</span> t)

      (autoload 'gnus-dired-attach <span style=
"color: #036A07;">"gnus-dired"</span>
        <span style=
"color: #008000;">"Attach dired's marked files to a gnus message composition."</span> t)

      (<span style="color: #0000FF;">with-eval-after-load</span> <span style=
"color: #036A07;">"dired"</span>

        (add-hook 'dired-mode-hook 'turn-on-gnus-dired-mode)

        (define-key dired-mode-map
          (kbd <span style=
"color: #036A07;">"a"</span>) 'gnus-dired-attach)) <span style=
"color: #8D8D84;">; </span><span style=
"color: #CC0000; background-color: #FFFF88; font-style: italic;">XXX</span><span style="color: #8D8D84; font-style: italic;"> conflict with</span>
                                         <span style=
"color: #8D8D84;">; </span><span style=
"color: #8D8D84; font-style: italic;">`</span><span style=
"color: #D0372D; font-style: italic;">dired-find-alternate-file</span><span style="color: #8D8D84; font-style: italic;">'</span>
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-13-5" class="outline-3">
        <h3 id="sec-13-5">Various Various</h3>

        <div class="outline-text-3" id="text-13-5">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 9.21 (info "(gnus)Various Various")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">display more messages from Gnus</span>
      (setq gnus-verbose 10) <span style=
"color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">9 = minimum for helpful debugging</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">display more messages from the Gnus back-ends</span>
      (setq gnus-verbose-backends 10)

      (message <span style="color: #036A07;">"8 Various... Done"</span>))
</pre>
          </div>
        </div>
      </div>
    </div>

    <div id="outline-container-sec-14" class="outline-2">
      <h2 id="sec-14">Appendices</h2>

      <div class="outline-text-2" id="text-14">
        <div class="org-src-container">
          <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">* 11 (info "(gnus)Appendices")</span>

(<span style="color: #0000FF;">when</span> leuven-section-appendices
      (message <span style="color: #036A07;">"11 Appendices..."</span>)
</pre>
        </div>
      </div>

      <div id="outline-container-sec-14-1" class="outline-3">
        <h3 id="sec-14-1">History</h3>

        <div class="outline-text-3" id="text-14-1">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 11.2 (info "(gnus)History")</span>

      (setq canlock-password <span style="color: #036A07;">"secret"</span>)
      (setq canlock-password-for-verify <span style=
"color: #036A07;">"secret"</span>)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-14-2" class="outline-3">
        <h3 id="sec-14-2">Frequently Asked Questions</h3>

        <div class="outline-text-3" id="text-14-2">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;;</span><span style=
"color: #8D8D84; font-style: italic;">** 11.9 (info "(gnus)Frequently Asked Questions")</span>

      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">byte-compile the user-defined format specs (things like</span>
      <span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">`</span><span style=
"color: #D0372D; font-style: italic;">gnus-summary-line-format</span><span style="color: #8D8D84; font-style: italic;">')</span>
      (<span style="color: #0000FF;">when</span> (fboundp 'gnus-compile)
        (gnus-compile)) <span style="color: #8D8D84;">;;  </span><span style=
"color: #8D8D84; font-style: italic;">at the bottom</span>

      (message <span style="color: #036A07;">"11 Appendices... Done"</span>))

<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">warn that some packages were missing</span>
(<span style="color: #0000FF;">dolist</span> (pkg leuven--missing-packages)
  (message <span style="color: #036A07;">"(</span><span style=
"color: #CC0000; background-color: #FFFF88;">warning</span><span style=
"color: #036A07;">) Package `</span><span style=
"color: #D0372D;">%s</span><span style=
"color: #036A07;">' not found"</span> pkg))

(message <span style="color: #036A07;">"\n"</span>)
</pre>
          </div>

          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
(<span style="color: #0000FF;">provide</span> '<span style=
"color: #D0372D;">gnus-leuven</span>)
</pre>
          </div>
        </div>
      </div>

      <div id="outline-container-sec-14-3" class="outline-3">
        <h3 id="sec-14-3">File Local Variables</h3>

        <div class="outline-text-3" id="text-14-3">
          <div class="org-src-container">
            <pre class="src src-emacs-lisp">
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">This is for the sake of Emacs.</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">Local Variables:</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">coding: utf-8-unix</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">eval: (when (locate-library "rainbow-mode") (require 'rainbow-mode) (rainbow-mode))</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">ispell-local-dictionary: "american"</span>
<span style="color: #8D8D84;">;; </span><span style=
"color: #8D8D84; font-style: italic;">End:</span>

<span style="color: #8D8D84;">;;; </span><span style=
"color: #8D8D84; font-style: italic;">gnus-leuven.el ends here</span>
</pre>
          </div>
        </div>
      </div>
    </div>
  </div>

  <div id="postamble" class="status">
    <div id="copyright">
      © Fabrice Niessen
    </div>
  </div>
</body>
</html>
